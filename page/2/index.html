<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="æ±¤å§†çŒ«çš„åšå®¢">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="æ±¤å§†çŒ«çš„åšå®¢">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>æ±¤å§†çŒ«çš„åšå®¢</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">æ±¤å§†çŒ«çš„åšå®¢</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/23/%E5%8E%9F%E5%AD%90%E5%8F%98%E9%87%8F%E6%93%8D%E4%BD%9C%E7%B1%BB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ±¤å§†çŒ«çš„åšå®¢">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/23/%E5%8E%9F%E5%AD%90%E5%8F%98%E9%87%8F%E6%93%8D%E4%BD%9C%E7%B1%BB/" class="post-title-link" itemprop="url">åŸå­å˜é‡æ“ä½œç±»</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-04-23 14:55:15 / Modified: 15:57:54" itemprop="dateCreated datePublished" datetime="2020-04-23T14:55:15+08:00">2020-04-23</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">å¤šçº¿ç¨‹</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="JUCç®€ä»‹"><a href="#JUCç®€ä»‹" class="headerlink" title="JUCç®€ä»‹"></a>JUCç®€ä»‹</h3><blockquote>
<p>åœ¨ Java 5.0 æä¾›äº† java.util.concurrent ï¼ˆç®€ç§°JUC ï¼‰åŒ…ï¼Œåœ¨æ­¤åŒ…ä¸­å¢åŠ äº†åœ¨å¹¶å‘ç¼–ç¨‹ä¸­å¾ˆå¸¸ç”¨çš„å®ç”¨å·¥å…·ç±»ï¼Œç”¨äºå®šä¹‰ç±»ä¼¼äºçº¿ç¨‹çš„è‡ªå®šä¹‰å­ç³»ç»Ÿï¼ŒåŒ…æ‹¬çº¿ç¨‹æ± ã€å¼‚æ­¥ IO å’Œè½»é‡çº§ä»»åŠ¡æ¡†æ¶ã€‚æä¾›å¯è°ƒçš„ã€çµæ´»çš„çº¿ç¨‹æ± ã€‚è¿˜æä¾›äº†è®¾è®¡ç”¨äºå¤šçº¿ç¨‹ä¸Šä¸‹æ–‡ä¸­çš„ Collection å®ç°ç­‰ã€‚</p>
</blockquote>
<blockquote>
<p>åœ¨JUCå¹¶å‘åŒ…ä¸­åŒ…å«æœ‰AtomicIntegerï¼ŒAtomicLong,AtomicBooleanç­‰åŸºäºCASæ“ä½œçš„åŸå­æ“ä½œç±»ã€‚ä»–ä»¬åŸç†ç›¸ä¼¼ï¼Œä¸‹é¢è®²è§£AtomicLongç±»ã€‚å®ƒå¯ä»¥åŸå­æ€§é€’å¢æˆ–é€’å‡ï¼Œå†…éƒ¨é€šè¿‡Unsafeæ¥å®ç°ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">public class AtomicLong extends Number implements java.io.Serializable &#123;</span><br><span class="line">    private static final long serialVersionUID &#x3D; 1927816293512124184L;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; è·å¾—Unsafeå®ä¾‹</span><br><span class="line">    private static final Unsafe unsafe &#x3D; Unsafe.getUnsafe();</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;è·å¾—longå€¼åç§»é‡</span><br><span class="line">    private static final long valueOffset;</span><br><span class="line"></span><br><span class="line">	  &#x2F;&#x2F;åˆ¤æ–­JVMæ˜¯å¦æ”¯æŒLongç±»å‹çš„æ— é”CASæ“ä½œ</span><br><span class="line">    static final boolean VM_SUPPORTS_LONG_CAS &#x3D; VMSupportsCS8();</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;æœ¬åœ°æ–¹æ³•ã€‚ã€‚</span><br><span class="line">    private static native boolean VMSupportsCS8();</span><br><span class="line"></span><br><span class="line">	 &#x2F;&#x2F;é™æ€ä»£ç å—</span><br><span class="line">    static &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            è·å¾—åç§»é‡</span><br><span class="line">            valueOffset &#x3D; unsafe.objectFieldOffset</span><br><span class="line">                (AtomicLong.class.getDeclaredField(&quot;value&quot;));</span><br><span class="line">        &#125; catch (Exception ex) &#123; throw new Error(ex); &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	 &#x2F;&#x2F;å®é™…å€¼</span><br><span class="line">    private volatile long value;</span><br><span class="line"></span><br><span class="line">    public AtomicLong(long initialValue) &#123;</span><br><span class="line">        value &#x3D; initialValue;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public AtomicLong() &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Unsafeç±»"><a href="#Unsafeç±»" class="headerlink" title="Unsafeç±»"></a>Unsafeç±»</h3><blockquote>
<p>åœ¨jdkä¸­æä¾›äº†Unsafeç±»æ¥å®ç°CASæ“ä½œï¼Œè¯¥ç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯æœ¬åœ°æ–¹æ³•ï¼ˆNativeï¼‰ï¼Œä¸‹é¢æ˜¯Unsafeå‡ ä¸ªé‡è¦æ–¹æ³•</p>
</blockquote>
<blockquote>
<p>long object FieldOffset(Field field)æ–¹æ³•, è´Ÿè´£è·å¾—æŒ‡å®šå˜é‡åœ¨æ‰€å±ç±»ä¸­çš„å†…å­˜åç§»é‡ï¼Œè¯¥åç§»é‡åªèƒ½åœ¨Unsafeæ–¹æ³•ä¸­è®¿é—®æŒ‡å®šå‡½æ•°æ‰èƒ½ä½¿ç”¨</p>
</blockquote>
<blockquote>
<p>long native getLongVolatile(Object obj,long offset)æ–¹æ³•ï¼Œè´Ÿè´£è·å¾—å¯¹è±¡objä¸­æŒ‡å®šåç§»é‡offsetçš„å˜é‡æ‰€å¯¹åº”çš„å€¼</p>
</blockquote>
<h3 id="AtomicLong"><a href="#AtomicLong" class="headerlink" title="AtomicLong"></a>AtomicLong</h3><h4 id="é€’å¢é€’å‡æ“ä½œ"><a href="#é€’å¢é€’å‡æ“ä½œ" class="headerlink" title="é€’å¢é€’å‡æ“ä½œ"></a>é€’å¢é€’å‡æ“ä½œ</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;è·å¾—é€’å¢åçš„å€¼</span><br><span class="line">  public final long incrementAndGet() &#123;</span><br><span class="line">      return unsafe.getAndAddLong(this, valueOffset, 1L) + 1L;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;è·å¾—é€’å‡åçš„å€¼</span><br><span class="line">  public final long decrementAndGet() &#123;</span><br><span class="line">      return unsafe.getAndAddLong(this, valueOffset, -1L) - 1L;</span><br><span class="line">  &#125;</span><br><span class="line">  &#x2F;&#x2F;è·å¾—é€’å¢å‰çš„å€¼</span><br><span class="line">  public final long getAndIncrement() &#123;</span><br><span class="line">      return unsafe.getAndAddLong(this, valueOffset, 1L);</span><br><span class="line">  &#125;</span><br><span class="line">  è·å¾—é€’å‡å‰çš„å€¼</span><br><span class="line">  public final long getAndDecrement() &#123;</span><br><span class="line">      return unsafe.getAndAddLong(this, valueOffset, -1L);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä¸Šé¢çš„é€’å¢é€’å‡æ“ä½œéƒ½æ˜¯è°ƒç”¨äº†Unsafeçš„getAndAddLong()æ–¹æ³•æ¥å®ç°çš„,è¯¥å‡½æ•°æ—¶åŸå­æ€§æ“ä½œã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;å‚æ•°ä¸€ä»£è¡¨AtomicLongå®ä¾‹çš„å¼•ç”¨ï¼Œ</span><br><span class="line">&#x2F;&#x2F;å‚æ•°äºŒä»£è¡¨AtomicLongçš„valueå˜é‡çš„åç§»é‡</span><br><span class="line">&#x2F;&#x2F;å‚æ•°ä¸‰ä»£è¡¨è¦æ”¹å˜çš„å€¼</span><br><span class="line">public final long getAndAddLong(Object var1, long var2, long var4) &#123;</span><br><span class="line">    long var6;</span><br><span class="line">    do &#123;</span><br><span class="line">        var6 &#x3D; this.getLongVolatile(var1, var2);&#x2F;&#x2F;è·å¾—åˆå§‹å€¼</span><br><span class="line">        &#x2F;&#x2F;å¦‚æœè·å¾—çš„åˆå§‹å€¼ä¸ç›¸ç­‰åˆ™ç»§ç»­å¾ªç¯ç›´åˆ°ç›¸ç­‰</span><br><span class="line">    &#125; while(!this.compareAndSwapLong(var1, var2, var6, var6 + var4));</span><br><span class="line"></span><br><span class="line">    return var6;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">public class TestAtomic &#123;</span><br><span class="line">    public static void main(String[] args) throws InterruptedException &#123;</span><br><span class="line">        for (int i&#x3D;0;i&lt;10;i++)&#123;</span><br><span class="line">            Thread thread&#x3D;new Thread(new CountThread(),&quot;çº¿ç¨‹&quot;+i);</span><br><span class="line">            thread.start();</span><br><span class="line">            thread.join();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(CountThread.value);</span><br><span class="line">    &#125;</span><br><span class="line">    public static class CountThread implements Runnable&#123;</span><br><span class="line"></span><br><span class="line">        public static AtomicLong value&#x3D;new AtomicLong();</span><br><span class="line">        @Override</span><br><span class="line">        public void run() &#123;</span><br><span class="line">            for (int i&#x3D;0;i&lt;1000;i++)&#123;</span><br><span class="line">                value.incrementAndGet();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><blockquote>
<p>åœ¨æ²¡æœ‰åŸå­ç±»çš„æƒ…å†µä¸‹ï¼Œè¦å®ç°å¤šçº¿ç¨‹è®¡æ•°å™¨éœ€è¦åŒæ­¥æªæ–½ï¼Œä¾‹å¦‚ä½¿ç”¨synchronizedå…³é”®å­—ï¼Œä½†è¿™ä¼šå¤§å¤§å½±å“æ€§èƒ½ï¼Œè€Œè¿™äº›AtomicåŸå­ç±»å®ç°äº†CASéå µå¡ç®—æ³•ï¼Œæå‡äº†æ€§èƒ½ã€‚ä¸è¿‡åœ¨é«˜å¹¶å‘çš„æƒ…å†µä¸‹è¿˜æ˜¯ä¼šå½±å“æ€§èƒ½ï¼Œåœ¨JDK8ä¸­æä¾›äº†åœ¨é«˜å¹¶å‘æ€§èƒ½æ›´å¥½çš„LongAdderç±»ï¼Œä¸‹æ¬¡å†æ¥å†™äº†ã€‚</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/23/synchronized%E5%92%8Cvolatile%E5%85%B3%E9%94%AE%E5%AD%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ±¤å§†çŒ«çš„åšå®¢">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/23/synchronized%E5%92%8Cvolatile%E5%85%B3%E9%94%AE%E5%AD%97/" class="post-title-link" itemprop="url">synchronizedå’Œvolatileå…³é”®å­—</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-04-23 09:59:21 / Modified: 11:09:39" itemprop="dateCreated datePublished" datetime="2020-04-23T09:59:21+08:00">2020-04-23</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">å¤šçº¿ç¨‹</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="javaå†…å­˜æ¨¡å‹"><a href="#javaå†…å­˜æ¨¡å‹" class="headerlink" title="javaå†…å­˜æ¨¡å‹"></a>javaå†…å­˜æ¨¡å‹</h3><blockquote>
<p>javaå†…å­˜æ¨¡å‹è§„å®šï¼Œå°†æ‰€æœ‰çš„å˜é‡éƒ½æ”¾åœ¨ä¸»å†…å­˜ï¼Œå½“çº¿ç¨‹ä½¿ç”¨å˜é‡æ—¶ï¼Œä¼šæŠŠè¯¥å˜é‡å¤åˆ¶åˆ°çº¿ç¨‹çš„å·¥ä½œå†…å­˜ï¼Œå› æ­¤çº¿ç¨‹è¯»å†™å˜é‡æ“ä½œçš„æ˜¯è‡ªå·±å·¥ä½œå†…å­˜ä¸­çš„å˜é‡ã€‚</p>
</blockquote>
<p><img src="/images/pasted-7.png" alt="upload successful"></p>
<blockquote>
<p>ä¸‹å›¾æ˜¯ä¸€ä¸ªåŒæ ¸cpuçš„ç³»ç»Ÿæ¶æ„ï¼Œæ¯ä¸ªæ ¸éƒ½æœ‰è‡ªå·±çš„æ§åˆ¶å™¨ã€è¿ç®—å™¨ã€ä¸€çº§ç¼“å­˜ï¼Œå…¶ä¸­æ§åˆ¶å™¨åŒ…å«ä¸€ç»„å¯„å­˜å™¨å’Œæ“ä½œæ§åˆ¶å™¨ï¼Œè¿ç®—å™¨è´Ÿè´£è¿›è¡Œç®—æœ¯é€»è¾‘è¿ç®—ã€‚åœ¨è¿™ä¸ªæ¶æ„ä¸­cpuè¿˜å…±äº«ä¸€ä¸ªäºŒçº§ç¼“å­˜ã€‚</p>
</blockquote>
<blockquote>
<p>å…¶ä¸­javaå†…å­˜æ¨¡å‹é‡Œçš„çº¿ç¨‹å·¥ä½œå†…å­˜å¯¹åº”å°±æ˜¯ä¸€çº§ç¼“å­˜ã€äºŒçº§ç¼“å­˜ã€cpuå¯„å­˜å™¨</p>
</blockquote>
<p><img src="/images/pasted-8.png" alt="upload successful"></p>
<h3 id="å…±äº«å¯¹è±¡å¯è§æ€§"><a href="#å…±äº«å¯¹è±¡å¯è§æ€§" class="headerlink" title="å…±äº«å¯¹è±¡å¯è§æ€§"></a>å…±äº«å¯¹è±¡å¯è§æ€§</h3><blockquote>
<p>ä¾‹å¦‚ä¸Šå›¾ï¼Œå‡è®¾çº¿ç¨‹Aå’Œçº¿ç¨‹BåŒæ—¶å¤„ç†ä¸€ä¸ªå…±äº«å˜é‡ï¼Œä¸”çº¿ç¨‹ä½¿ç”¨ä¸åŒcpuè¿è¡Œï¼Œç¼“å­˜éƒ½ä¸ºç©ºã€‚<br> çº¿ç¨‹ A é¦–å…ˆè·å–å…±äº«å˜é‡ X çš„å€¼ï¼Œç”±äºä¸¤çº§ Cache éƒ½æ²¡æœ‰å‘½ä¸­ ï¼Œæ‰€ä»¥åŠ è½½ä¸» å†…å­˜ ä¸­ X çš„å€¼ï¼Œå‡å¦‚ä¸º 0ã€‚ç„¶åæŠŠ X=O çš„å€¼ç¼“å­˜åˆ°ä¸¤çº§ç¼“å­˜ï¼Œ çº¿ç¨‹ A ä¿®æ”¹ X çš„å€¼ä¸º 1, ç„¶åå°†å…¶å†™å…¥ä¸¤çº§ Cacheï¼Œ å¹¶ä¸”åˆ·æ–°åˆ°ä¸»å†…å­˜ã€‚ çº¿ç¨‹ A æ“ä½œå®Œæ¯•åï¼Œçº¿ç¨‹ A æ‰€åœ¨çš„ CPU çš„ä¸¤çº§ Cache å†…å’Œä¸»å†…å­˜é‡Œé¢çš„ X çš„å€¼éƒ½æ˜¯ l ã€‚<br> çº¿ç¨‹ B è·å– X çš„å€¼ï¼Œé¦–å…ˆä¸€çº§ç¼“å­˜æ²¡æœ‰å‘½ä¸­ï¼Œç„¶åçœ‹äºŒçº§ç¼“å­˜ï¼ŒäºŒçº§ç¼“å­˜å‘½ä¸­äº† ï¼Œ æ‰€ä»¥è¿”å› X= 1 ï¼› åˆ°è¿™é‡Œä¸€åˆ‡éƒ½æ˜¯æ­£å¸¸çš„ï¼Œ å› ä¸ºè¿™æ—¶å€™ä¸» å†…å­˜ä¸­ä¹Ÿæ˜¯ X=l ã€‚ç„¶åçº¿ ç¨‹ B ä¿®æ”¹ X çš„å€¼ä¸º 2ï¼Œ å¹¶å°†å…¶å­˜æ”¾åˆ°çº¿ç¨‹ 2 æ‰€åœ¨çš„ä¸€çº§ Cache å’Œå…±äº«äºŒçº§ Cache ä¸­ï¼Œ æœ€åæ›´æ–°ä¸»å†…å­˜ä¸­ X çš„å€¼ä¸º 2 ï¼š åˆ°è¿™é‡Œä¸€åˆ‡éƒ½æ˜¯å¥½çš„ã€‚<br> çº¿ç¨‹ A è¿™æ¬¡åˆéœ€è¦ä¿®æ”¹ X çš„å€¼ï¼Œ è·å–æ—¶ä¸€çº§ç¼“å­˜å‘½ä¸­ï¼Œ å¹¶ä¸” X=l ï¼Œåˆ°è¿™é‡Œé—®é¢˜å°± å‡º ç°äº†ï¼Œæ˜æ˜çº¿ç¨‹ B å·²ç»æŠŠ X çš„å€¼ä¿®æ”¹ä¸ºäº† 2ï¼Œä¸ºä½•çº¿ç¨‹ A è·å–çš„è¿˜æ˜¯ l å‘¢ï¼Ÿ è¿™ å°±æ˜¯å…±äº«å˜é‡çš„å†…å­˜ä¸å¯è§é—®é¢˜ï¼Œ ä¹Ÿå°±æ˜¯çº¿ç¨‹ B å†™å…¥çš„å€¼å¯¹çº¿ç¨‹ A ä¸å¯è§ã€‚ï¼ˆæ¥è‡ªäºã€Šjavaå¹¶å‘ç¼–ç¨‹ä¹‹ç¾ã€‹ï¼‰</p>
</blockquote>
<blockquote>
<p>ä½¿ç”¨synchronizedå’Œvolatileå…³é”®å­—å¯ä»¥è§£å†³å…±äº«å¯¹è±¡çš„ä¸å¯è§æ€§</p>
</blockquote>
<h3 id="synchronizedå…³é”®å­—"><a href="#synchronizedå…³é”®å­—" class="headerlink" title="synchronizedå…³é”®å­—"></a>synchronizedå…³é”®å­—</h3><blockquote>
<p>synchronizedå…³é”®å­—æ˜¯javaæä¾›çš„ä¸€ä¸ªåŸå­æ€§å†…ç½®é”ï¼ˆæ’ä»–é”ï¼‰ï¼ŒåŒä¸€æ—¶é—´æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹æŒæœ‰ç›¸åŒå¯¹è±¡çš„é”ã€‚åœ¨çº¿ç¨‹è¿›å…¥synchronizeddä»£ç å—ä¼šè·å¾—å¯¹è±¡é”ï¼Œå…¶ä»–çº¿ç¨‹è¿è¡Œåˆ°synchronizedä¼šè¢«å µå¡æŒ‚èµ·ã€‚<br>æ‹¿åˆ°å¯¹è±¡é”çš„çº¿ç¨‹ä¼šåœ¨ä»¥ä¸‹æƒ…å†µé‡Šæ”¾å¯¹è±¡é”ï¼š<br>1.æ­£å¸¸æ‰§è¡Œå®ŒåŒæ­¥ä»£ç å—ã€‚<br>2.æŠ›å‡ºå¼‚å¸¸ã€‚<br>3.è°ƒç”¨waitç­‰ä¼‘çœ æ–¹æ³•</p>
</blockquote>
<h4 id="synchronizedçš„å†…å­˜è¯­ä¹‰"><a href="#synchronizedçš„å†…å­˜è¯­ä¹‰" class="headerlink" title="synchronizedçš„å†…å­˜è¯­ä¹‰"></a>synchronizedçš„å†…å­˜è¯­ä¹‰</h4><blockquote>
<p>è¿›å…¥synchronizedä»£ç å—ä¼šæŠŠåŒæ­¥ä»£ç å—ç”¨åˆ°çš„å˜é‡ä»è¿è¡Œçº¿ç¨‹çš„å·¥ä½œå†…å­˜ä¸­æ¸…é™¤ã€‚è¿™æ ·è·å–å˜é‡æ—¶å°±ä¸ä¼šä»å·¥ä½œå†…å­˜ä¸­è·å¾—ï¼Œè€Œæ˜¯å»ä¸»å†…å­˜ä¸­è·å¾—ã€‚<br>é€€å‡ºsynchronizedä»£ç å—ä¼šæŠŠå¯¹åŒæ­¥ä»£ç å—ä¿®æ”¹çš„å˜é‡åˆ·æ–°åˆ°ä¸»å†…å­˜é‡Œå»ã€‚</p>
</blockquote>
<h3 id="volatileå…³é”®å­—"><a href="#volatileå…³é”®å­—" class="headerlink" title="volatileå…³é”®å­—"></a>volatileå…³é”®å­—</h3><blockquote>
<p>å½“ä¸€ä¸ªå˜é‡è¢«volatileå…³é”®å­—å£°æ˜æ—¶ï¼Œå·¥ä½œçº¿ç¨‹è·å–è¯¥å˜é‡æ—¶ä¼šç›´æ¥ä»ä¸»å†…å­˜ä¸­è·å¾—ï¼Œä¿®æ”¹å˜é‡å€¼ä¼šç›´æ¥æŠŠå€¼åˆ·æ–°åˆ°ä¸»å†…å­˜ä¸­å»ã€‚</p>
</blockquote>
<h3 id="ä¸¤è€…å¯¹æ¯”"><a href="#ä¸¤è€…å¯¹æ¯”" class="headerlink" title="ä¸¤è€…å¯¹æ¯”"></a>ä¸¤è€…å¯¹æ¯”</h3><blockquote>
<p>åŒï¼šsynchronizedå’Œvolatileéƒ½å¯ä»¥å®ç°åœ¨å¤šçº¿ç¨‹ä¸­å…±äº«å¯¹è±¡çš„å¯è§æ€§ã€‚<br>å¼‚ï¼švolatileåªä¿è¯å…±äº«å¯¹è±¡çš„å¯è§æ€§ï¼Œä¸ä¿è¯æ“ä½œçš„åŸå­æ€§ã€‚<br>   synchronizedæ˜¯æ¯”è¾ƒé‡é‡çº§çš„æ“ä½œï¼Œä»–ä¼šå¼•èµ·çº¿ç¨‹ä¸Šä¸‹æ–‡çš„åˆ‡æ¢å¹¶å¸¦æ¥çº¿ç¨‹è°ƒåº¦å¼€é”€ã€‚</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/21/%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%E5%92%8C%E6%93%8D%E4%BD%9C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ±¤å§†çŒ«çš„åšå®¢">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/21/%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%E5%92%8C%E6%93%8D%E4%BD%9C/" class="post-title-link" itemprop="url">çº¿ç¨‹åŸºæœ¬æ¦‚å¿µå’Œæ“ä½œ</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-04-21 22:49:06" itemprop="dateCreated datePublished" datetime="2020-04-21T22:49:06+08:00">2020-04-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-04-22 22:18:33" itemprop="dateModified" datetime="2020-04-22T22:18:33+08:00">2020-04-22</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">å¤šçº¿ç¨‹</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="çº¿ç¨‹åŸºæœ¬æ¦‚å¿µ"><a href="#çº¿ç¨‹åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="çº¿ç¨‹åŸºæœ¬æ¦‚å¿µ"></a>çº¿ç¨‹åŸºæœ¬æ¦‚å¿µ</h3><blockquote>
<p>é¦–å…ˆæˆ‘ä»¬è¦å…ˆäº†è§£è¿›ç¨‹çš„åŸºæœ¬æ¦‚å¿µï¼Œå› ä¸ºçº¿ç¨‹æ˜¯è¿›ç¨‹ä¸­çš„ä¸€ä¸ªå®ä½“ã€‚è¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿä¸­è¿›è¡Œèµ„æºè°ƒåº¦å’Œè°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œçº¿ç¨‹åˆ™æ˜¯è¿›ç¨‹çš„ä¸€ä¸ªæ‰§è¡Œè·¯å¾„ã€‚</p>
</blockquote>
<p><img src="/images/pasted-3.png" alt="upload successful"></p>
<blockquote>
<p>ä¸€ä¸ªè¿›ç¨‹ä¸­åŒ…å«å¤šä¸ªçº¿ç¨‹ï¼Œå¤šä¸ªçº¿ç¨‹å…±äº«è¿›ç¨‹çš„å †å’Œæ–¹æ³•åŒºèµ„æºï¼Œæ¯ä¸ªçº¿ç¨‹æœ‰ç‹¬ç«‹çš„ç¨‹åºè®¡æ•°å™¨å’Œæ ˆåŒºåŸŸã€‚</p>
</blockquote>
<h3 id="çº¿ç¨‹çš„ä¸‰ç§åˆ›å»ºæ–¹å¼"><a href="#çº¿ç¨‹çš„ä¸‰ç§åˆ›å»ºæ–¹å¼" class="headerlink" title="çº¿ç¨‹çš„ä¸‰ç§åˆ›å»ºæ–¹å¼"></a>çº¿ç¨‹çš„ä¸‰ç§åˆ›å»ºæ–¹å¼</h3><h4 id="ç±»ç»§æ‰¿Thread"><a href="#ç±»ç»§æ‰¿Thread" class="headerlink" title="ç±»ç»§æ‰¿Thread"></a>ç±»ç»§æ‰¿Thread</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">public class TestNewThread &#123;</span><br><span class="line"></span><br><span class="line">    public static class MyThread extends Thread&#123;</span><br><span class="line">        @Override</span><br><span class="line">        public void run() &#123;</span><br><span class="line">            System.out.println(&quot;Hello World&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        new MyThread().run();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç±»å®ç°Runnableæ¥å£"><a href="#ç±»å®ç°Runnableæ¥å£" class="headerlink" title="ç±»å®ç°Runnableæ¥å£"></a>ç±»å®ç°Runnableæ¥å£</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">public class TestNewThread &#123;</span><br><span class="line"></span><br><span class="line">    public static class RunnableImpl implements Runnable&#123;</span><br><span class="line"></span><br><span class="line">        @Override</span><br><span class="line">        public void run() &#123;</span><br><span class="line">            System.out.println(&quot;Hello World&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        new Thread(new RunnableImpl()).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç±»å®ç°Callableæ¥å£-ä½¿ç”¨FutureTaskæ–¹å¼"><a href="#ç±»å®ç°Callableæ¥å£-ä½¿ç”¨FutureTaskæ–¹å¼" class="headerlink" title="ç±»å®ç°Callableæ¥å£,ä½¿ç”¨FutureTaskæ–¹å¼"></a>ç±»å®ç°Callableæ¥å£,ä½¿ç”¨FutureTaskæ–¹å¼</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">public class TestNewThread &#123;</span><br><span class="line"></span><br><span class="line">    public static class CallableImpl implements Callable&lt;String&gt;&#123;</span><br><span class="line"></span><br><span class="line">        @Override</span><br><span class="line">        public String call() throws Exception &#123;</span><br><span class="line">            return &quot;Hello World&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        &#x2F;*new MyThread().run();*&#x2F;</span><br><span class="line">        FutureTask&lt;String&gt; futureTask&#x3D;new FutureTask&lt;&gt;(new CallableImpl());</span><br><span class="line">        new Thread(futureTask).start();</span><br><span class="line">        try &#123;</span><br><span class="line">            System.out.println(futureTask.get());</span><br><span class="line">        &#125; catch (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; catch (ExecutionException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä¸‰ç§æ–¹å¼ä¼˜åŠ£"><a href="#ä¸‰ç§æ–¹å¼ä¼˜åŠ£" class="headerlink" title="ä¸‰ç§æ–¹å¼ä¼˜åŠ£"></a>ä¸‰ç§æ–¹å¼ä¼˜åŠ£</h4><h5 id="1-ä½¿ç”¨ç»§æ‰¿æ–¹å¼"><a href="#1-ä½¿ç”¨ç»§æ‰¿æ–¹å¼" class="headerlink" title="1.ä½¿ç”¨ç»§æ‰¿æ–¹å¼"></a>1.ä½¿ç”¨ç»§æ‰¿æ–¹å¼</h5><blockquote>
<p>ä¼˜åŠ¿ï¼š<br>ç¼–å†™ç®€å•ï¼Œä¼ å‚æ–¹ä¾¿ï¼Œå¦‚æœéœ€è¦è®¿é—®å½“å‰çº¿ç¨‹ï¼Œåˆ™æ— éœ€ä½¿ç”¨Thread.currentThread()æ–¹æ³•ï¼Œç›´æ¥ä½¿ç”¨thiså³å¯è·å¾—å½“å‰çº¿ç¨‹ã€‚<br>åŠ£åŠ¿ï¼šæ— æ³•åœ¨ç»§æ‰¿å…¶ä»–çˆ¶ç±»</p>
</blockquote>
<h5 id="2-å®ç°Runnableæ¥å£æ–¹å¼å’ŒCallableæ¥å£"><a href="#2-å®ç°Runnableæ¥å£æ–¹å¼å’ŒCallableæ¥å£" class="headerlink" title="2.å®ç°Runnableæ¥å£æ–¹å¼å’ŒCallableæ¥å£"></a>2.å®ç°Runnableæ¥å£æ–¹å¼å’ŒCallableæ¥å£</h5><blockquote>
<p>ä¼˜åŠ¿ï¼š<br>ç¨‹ç±»åªæ˜¯å®ç°äº†Runnableæ¥å£æˆ–Callableæ¥å£ï¼Œè¿˜å¯ä»¥ç»§æ‰¿å…¶ä»–ç±»ã€‚<br>åœ¨è¿™ç§æ–¹å¼ä¸‹ï¼Œå¤šä¸ªçº¿ç¨‹å¯ä»¥å…±äº«åŒä¸€ä¸ªtargetå¯¹è±¡ï¼Œæ‰€ä»¥éå¸¸é€‚åˆå¤šä¸ªç›¸åŒçº¿ç¨‹æ¥å¤„ç†åŒä¸€ä»½èµ„æºçš„æƒ…å†µã€‚<br>callableè¿˜å¯ä»¥æ‹¿åˆ°çº¿ç¨‹çš„è¿”å›å€¼<br>åŠ£åŠ¿ï¼šç¼–å†™ç¨å¾®ç¨å¾®å¤æ‚ç‚¹ï¼Ÿ</p>
</blockquote>
<h3 id="çº¿ç¨‹çš„ä¼‘çœ å’Œç­‰å¾…"><a href="#çº¿ç¨‹çš„ä¼‘çœ å’Œç­‰å¾…" class="headerlink" title="çº¿ç¨‹çš„ä¼‘çœ å’Œç­‰å¾…"></a>çº¿ç¨‹çš„ä¼‘çœ å’Œç­‰å¾…</h3><h4 id="wait-æ–¹æ³•"><a href="#wait-æ–¹æ³•" class="headerlink" title="wait()æ–¹æ³•"></a>wait()æ–¹æ³•</h4><blockquote>
<p>åœ¨javaæ‰€æœ‰ç±»çš„ç›´æ¥æˆ–é—´æ¥çˆ¶ç±»Objectç±»ä¸­æœ‰ä¸ªwait(),å½“è°ƒç”¨æ—¶ä¼šè®©å½“å‰çº¿ç¨‹å µå¡æŒ‚èµ·ã€‚</p>
</blockquote>
<blockquote>
<p>æ³¨æ„ï¼šè°ƒç”¨å¯¹è±¡çš„wait()æ—¶ï¼Œè¦ç¡®ä¿è·å¾—å¯¹è±¡çš„ç›‘è§†å™¨é”ã€‚</p>
</blockquote>
<h5 id="åä¾‹"><a href="#åä¾‹" class="headerlink" title="åä¾‹"></a>åä¾‹</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">public class TestThreadWait &#123;</span><br><span class="line">    private static Object lock&#x3D;new Object();</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        new Thread(()-&gt;&#123;</span><br><span class="line">            System.out.println(&quot;ğŸ”’å‰&quot;);</span><br><span class="line">            try &#123;</span><br><span class="line">                lock.wait();</span><br><span class="line">            &#125; catch (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(&quot;ğŸ”’å&quot;);</span><br><span class="line">        &#125;).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/images/pasted-4.png" alt="upload successful"></p>
<blockquote>
<p>é‚£ä¹ˆæ€ä¹ˆè·å¾—å¯¹è±¡ç›‘è§†å™¨é”å‘¢<br>1.æ‰§è¡ŒsynchronizedåŒæ­¥ä»£ç å—æ—¶ï¼Œå¹¶ä¸”ä½¿ç”¨è¯¥å¯¹è±¡åšä¸ºé”</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">       synchronized(lock) &#123;</span><br><span class="line">&#x2F;&#x2F;doSomething</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>2.è°ƒç”¨å¯¹è±¡çš„synchronizeedæ–¹æ³•</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public synchronized void method()&#123;</span><br><span class="line">       &#x2F;&#x2F;doSomething </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="sleep-æ–¹æ³•"><a href="#sleep-æ–¹æ³•" class="headerlink" title="sleep()æ–¹æ³•"></a>sleep()æ–¹æ³•</h4><blockquote>
<p>sleep()æ˜¯Threadçº¿ç¨‹ç±»çš„ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œæ‰§è¡Œæ—¶å½“å‰çº¿ç¨‹ä¼šæš‚æ—¶è®©å‡ºå¯¹cpuçš„æ‰§è¡Œæƒï¼Œä½†æ˜¯æ³¨æ„ä¼‘çœ çš„æ—¶å€™ä¸ä¼šé€€å‡ºé”ï¼ˆçº¿ç¨‹æ‰€æ‹¥æœ‰çš„ç›‘è§†å™¨èµ„æºï¼‰ã€‚å½“ä¼‘çœ æ—¶é—´åˆ°äº†å°±ä¼šç»§ç»­æ­£å¸¸è¿è¡Œï¼Œå½“è¿˜åœ¨ä¼‘çœ æ—¶é—´æ—¶ï¼Œè°ƒç”¨è¯¥ä¼‘çœ çº¿ç¨‹çš„interrupt()æ–¹æ³•æ—¶ï¼Œè¯¥ä¼‘çœ çº¿ç¨‹å°±ä¼šåœ¨è°ƒç”¨sleep()æ–¹æ³•çš„åœ°æ–¹æŠ›å‡ºInterruptedExceptionå¼‚å¸¸è¿”å›ã€‚</p>
</blockquote>
<h5 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">public class TestThreadWait &#123;</span><br><span class="line">    private static Object lock&#x3D;new Object();</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        new Thread(()-&gt;&#123;</span><br><span class="line">            synchronized(lock) &#123;</span><br><span class="line">                System.out.println(&quot;çº¿ç¨‹ä¸€ä¼‘çœ å‰&quot;);</span><br><span class="line">                try &#123;</span><br><span class="line">                    Thread.sleep(1000);</span><br><span class="line">                &#125; catch (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(&quot;çº¿ç¨‹ä¸€ä¼‘çœ å&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).start();</span><br><span class="line"></span><br><span class="line">        new Thread(()-&gt;&#123;</span><br><span class="line">            synchronized(lock) &#123;</span><br><span class="line">                System.out.println(&quot;çº¿ç¨‹äºŒä¼‘çœ å‰&quot;);</span><br><span class="line">                try &#123;</span><br><span class="line">                    Thread.sleep(1000);</span><br><span class="line">                &#125; catch (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(&quot;çº¿ç¨‹äºŒä¼‘çœ å&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="ç»“æœ"><a href="#ç»“æœ" class="headerlink" title="ç»“æœ"></a>ç»“æœ</h5><p><img src="/images/pasted-5.png" alt="upload successful"></p>
<h3 id="çº¿ç¨‹é€šçŸ¥"><a href="#çº¿ç¨‹é€šçŸ¥" class="headerlink" title="çº¿ç¨‹é€šçŸ¥"></a>çº¿ç¨‹é€šçŸ¥</h3><h4 id="notify-æ–¹æ³•å’ŒnotifyAll-æ–¹æ³•"><a href="#notify-æ–¹æ³•å’ŒnotifyAll-æ–¹æ³•" class="headerlink" title="notify()æ–¹æ³•å’ŒnotifyAll()æ–¹æ³•"></a>notify()æ–¹æ³•å’ŒnotifyAll()æ–¹æ³•</h4><blockquote>
<p>æ‰§è¡Œnotify/notifyAllæ–¹æ³•ä¼šå”¤é†’ä¸€ä¸ª/å¤šä¸ªæ­£å¤„äºä¼‘çœ çŠ¶æ€çš„çº¿ç¨‹ã€‚ç„¶åç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œç›´åˆ°æ‰§è¡Œå®Œsynchronized ä»£ç å—çš„ä»£ç æˆ–æ˜¯ä¸­é€”é‡åˆ°wait() ï¼Œå†æ¬¡é‡Šæ”¾é”ã€‚<br>ç±»ä¼¼waitæ–¹æ³•ï¼Œå½“å‰çº¿ç¨‹è·å–åˆ°å¯¹è±¡çš„é”(ç›‘è§†å™¨èµ„æº)æ‰å¯ä»¥æ‰§è¡Œnotify/notifyAllæ–¹æ³•,å¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">public class TestThreadWait &#123;</span><br><span class="line">    private static Object lock&#x3D;new Object();</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        new Thread(()-&gt;&#123;</span><br><span class="line">            synchronized(lock) &#123;</span><br><span class="line">                System.out.println(&quot;çº¿ç¨‹ä¸€ä¼‘çœ å‰&quot;);</span><br><span class="line">                try &#123;</span><br><span class="line">                    lock.wait();</span><br><span class="line">                &#125; catch (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(&quot;çº¿ç¨‹ä¸€ä¼‘çœ å&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).start();</span><br><span class="line"></span><br><span class="line">        new Thread(()-&gt;&#123;</span><br><span class="line">            synchronized(lock) &#123;</span><br><span class="line">                System.out.println(&quot;å°è¯•æ¢çº¿ä¼‘çœ çº¿ç¨‹&quot;);</span><br><span class="line">                lock.notify();</span><br><span class="line">            &#125;</span><br><span class="line">            try &#123;</span><br><span class="line">                Thread.sleep(1000);</span><br><span class="line">            &#125; catch (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(&quot;å”¤é†’å®Œæ¯•&quot;);</span><br><span class="line">        &#125;).start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="çº¿ç¨‹çš„å…­ç§çŠ¶æ€"><a href="#çº¿ç¨‹çš„å…­ç§çŠ¶æ€" class="headerlink" title="çº¿ç¨‹çš„å…­ç§çŠ¶æ€"></a>çº¿ç¨‹çš„å…­ç§çŠ¶æ€</h3><p><img src="/images/pasted-6.png" alt="upload successful"></p>
<h4 id="NEW"><a href="#NEW" class="headerlink" title="NEW"></a>NEW</h4><blockquote>
<p>è¿™æ—¶å€™çº¿ç¨‹å·²è¢«åˆå§‹åŒ–ï¼Œä¸è¿‡è¿˜æ²¡æœ‰è¿è¡Œã€‚</p>
</blockquote>
<h4 id="RUNNABLE"><a href="#RUNNABLE" class="headerlink" title="RUNNABLE"></a>RUNNABLE</h4><blockquote>
<p>è¿è¡ŒçŠ¶æ€ï¼ŒJavaçº¿ç¨‹æŠŠæ“ä½œç³»ç»Ÿä¸­çš„å°±ç»ªå’Œè¿è¡Œä¸¤ç§çŠ¶æ€ç»Ÿä¸€ç§°ä¸ºâ€œè¿è¡Œä¸­â€ã€‚</p>
</blockquote>
<h4 id="TERMINATD"><a href="#TERMINATD" class="headerlink" title="TERMINATD"></a>TERMINATD</h4><blockquote>
<p>çº¿ç¨‹ç»“æŸçŠ¶æ€ã€‚</p>
</blockquote>
<h4 id="BLOCKED"><a href="#BLOCKED" class="headerlink" title="BLOCKED"></a>BLOCKED</h4><blockquote>
<p>çº¿ç¨‹å µå¡çŠ¶æ€ï¼Œç­‰å¾…è·å–ç›‘è§†å™¨èµ„æºè¿›å…¥åŒæ­¥æ–¹æ³•æˆ–åŒæ­¥ä»£ç å—ã€‚</p>
</blockquote>
<h4 id="WAITING"><a href="#WAITING" class="headerlink" title="WAITING"></a>WAITING</h4><blockquote>
<p>çº¿ç¨‹ç­‰å¾…çŠ¶æ€ï¼Œç­‰å¾…å…¶ä»–çº¿ç¨‹ï¼Œè°ƒç”¨Object.wait(),Thread.join()ç­‰æ–¹æ³•ä¼šè¿›å…¥ç­‰å¾…çŠ¶æ€ã€‚</p>
</blockquote>
<h4 id="TIMED-WAITING"><a href="#TIMED-WAITING" class="headerlink" title="TIMED_WAITING"></a>TIMED_WAITING</h4><blockquote>
<p>çº¿ç¨‹ç­‰å¾…ä¸€æ®µæ—¶é—´çŠ¶æ€,è°ƒç”¨Thread.sleep(Long millis)ç­‰ä¼šè¿›å…¥ç­‰å¾…ä¸€æ®µæ—¶é—´çŠ¶æ€ã€‚</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/20/java%E9%9B%86%E5%90%88-HashMap/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ±¤å§†çŒ«çš„åšå®¢">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/20/java%E9%9B%86%E5%90%88-HashMap/" class="post-title-link" itemprop="url">javaé›†åˆ-HashMap</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-04-20 22:45:06" itemprop="dateCreated datePublished" datetime="2020-04-20T22:45:06+08:00">2020-04-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-04-21 15:19:26" itemprop="dateModified" datetime="2020-04-21T15:19:26+08:00">2020-04-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9B%86%E5%90%88/" itemprop="url" rel="index"><span itemprop="name">é›†åˆ</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="HashMapç®€ä»‹"><a href="#HashMapç®€ä»‹" class="headerlink" title="HashMapç®€ä»‹"></a>HashMapç®€ä»‹</h3><blockquote>
<p>HashMapç”¨æ¥å­˜æ”¾é”®å€¼å¯¹ï¼Œå®ƒåŸºäºå“ˆå¸Œè¡¨çš„MapéåŒæ­¥æ¥å£å®ç°ï¼Œå®ƒç»§æ‰¿äº†AbstractMapï¼Œå®ç°äº†Map,Cloneable,Serializableç­‰æ¥å£ã€‚</p>
</blockquote>
<blockquote>
<p>JDK1.8 ä¹‹å‰ HashMap ç”± æ•°ç»„+é“¾è¡¨ ç»„æˆçš„ï¼Œæ•°ç»„æ˜¯ HashMap çš„ä¸»ä½“ï¼Œé“¾è¡¨åˆ™æ˜¯ä¸»è¦ä¸ºäº†è§£å†³å“ˆå¸Œå†²çªè€Œå­˜åœ¨çš„ï¼ˆâ€œæ‹‰é“¾æ³•â€è§£å†³å†²çªï¼‰.JDK1.8 ä»¥ååœ¨è§£å†³å“ˆå¸Œå†²çªæ—¶æœ‰äº†è¾ƒå¤§çš„å˜åŒ–ï¼Œå½“é“¾è¡¨é•¿åº¦å¤§äºé˜ˆå€¼ï¼ˆé»˜è®¤ä¸º 8ï¼‰æ—¶ï¼Œå°†é“¾è¡¨è½¬åŒ–ä¸ºçº¢é»‘æ ‘ï¼ˆå°†é“¾è¡¨è½¬æ¢æˆçº¢é»‘æ ‘å‰ä¼šåˆ¤æ–­ï¼Œå¦‚æœå½“å‰æ•°ç»„çš„é•¿åº¦å°äº 64ï¼Œé‚£ä¹ˆä¼šé€‰æ‹©å…ˆè¿›è¡Œæ•°ç»„æ‰©å®¹ï¼Œè€Œä¸æ˜¯è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼‰ï¼Œä»¥å‡å°‘æœç´¢æ—¶é—´ï¼Œå…·ä½“å¯ä»¥å‚è€ƒ treeifyBinæ–¹æ³•ã€‚</p>
</blockquote>
<h3 id="HashMapæºç åˆ†æ"><a href="#HashMapæºç åˆ†æ" class="headerlink" title="HashMapæºç åˆ†æ"></a>HashMapæºç åˆ†æ</h3><h4 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a>å±æ€§</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">public class HashMap&lt;K,V&gt; extends AbstractMap&lt;K,V&gt; implements Map&lt;K,V&gt;, Cloneable, Serializable &#123;</span><br><span class="line">    &#x2F;&#x2F; åºåˆ—å·</span><br><span class="line">    private static final long serialVersionUID &#x3D; 362498820763181265L;    </span><br><span class="line">    &#x2F;&#x2F; é»˜è®¤çš„åˆå§‹å®¹é‡æ˜¯16</span><br><span class="line">    static final int DEFAULT_INITIAL_CAPACITY &#x3D; 1 &lt;&lt; 4;   </span><br><span class="line">    &#x2F;&#x2F; æœ€å¤§å®¹é‡</span><br><span class="line">    static final int MAXIMUM_CAPACITY &#x3D; 1 &lt;&lt; 30; </span><br><span class="line">    &#x2F;&#x2F; é»˜è®¤çš„å¡«å……å› å­</span><br><span class="line">    static final float DEFAULT_LOAD_FACTOR &#x3D; 0.75f;</span><br><span class="line">    &#x2F;&#x2F; å½“æ¡¶(bucket)ä¸Šçš„ç»“ç‚¹æ•°å¤§äºè¿™ä¸ªå€¼æ—¶ä¼šè½¬æˆçº¢é»‘æ ‘</span><br><span class="line">    static final int TREEIFY_THRESHOLD &#x3D; 8; </span><br><span class="line">    &#x2F;&#x2F; å½“æ¡¶(bucket)ä¸Šçš„ç»“ç‚¹æ•°å°äºè¿™ä¸ªå€¼æ—¶æ ‘è½¬é“¾è¡¨</span><br><span class="line">    static final int UNTREEIFY_THRESHOLD &#x3D; 6;</span><br><span class="line">    &#x2F;&#x2F; æ¡¶ä¸­ç»“æ„è½¬åŒ–ä¸ºçº¢é»‘æ ‘å¯¹åº”çš„tableçš„æœ€å°å¤§å°</span><br><span class="line">    static final int MIN_TREEIFY_CAPACITY &#x3D; 64;</span><br><span class="line">    &#x2F;&#x2F; å­˜å‚¨å…ƒç´ çš„æ•°ç»„ï¼Œæ€»æ˜¯2çš„å¹‚æ¬¡å€</span><br><span class="line">    transient Node&lt;k,v&gt;[] table; </span><br><span class="line">    &#x2F;&#x2F; å­˜æ”¾å…·ä½“å…ƒç´ çš„é›†</span><br><span class="line">    transient Set&lt;map.entry&lt;k,v&gt;&gt; entrySet;</span><br><span class="line">    &#x2F;&#x2F; å­˜æ”¾å…ƒç´ çš„ä¸ªæ•°ï¼Œæ³¨æ„è¿™ä¸ªä¸ç­‰äºæ•°ç»„çš„é•¿åº¦ã€‚</span><br><span class="line">    transient int size;</span><br><span class="line">    &#x2F;&#x2F; æ¯æ¬¡æ‰©å®¹å’Œæ›´æ”¹mapç»“æ„çš„è®¡æ•°å™¨</span><br><span class="line">    transient int modCount;   </span><br><span class="line">    &#x2F;&#x2F; ä¸´ç•Œå€¼ å½“å®é™…å¤§å°(å®¹é‡*å¡«å……å› å­)è¶…è¿‡ä¸´ç•Œå€¼æ—¶ï¼Œä¼šè¿›è¡Œæ‰©å®¹</span><br><span class="line">    int threshold;</span><br><span class="line">    &#x2F;&#x2F; åŠ è½½å› å­</span><br><span class="line">    final float loadFactor;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="loadFactorè´Ÿè½½å› å­"><a href="#loadFactorè´Ÿè½½å› å­" class="headerlink" title="loadFactorè´Ÿè½½å› å­"></a>loadFactorè´Ÿè½½å› å­</h5><blockquote>
<p>  loadFactoræ˜¯ç”¨æ¥æ§åˆ¶å­˜æ”¾å…ƒç´ æ•°ç»„çš„ç–å¯†ç¨‹åº¦ï¼Œå½“loadFactorè¶Šå¤§ï¼Œæ•°ç»„å­˜æ”¾çš„entryä¹Ÿå°±è¶Šå¤šï¼Œä¹Ÿä¼šè®©é“¾è¡¨çš„é•¿åº¦å˜é•¿ï¼Œå½“loadFactorè¶Šå°ï¼Œæ•°ç»„å­˜æ”¾çš„entryä¹Ÿå°±è¶Šå°‘ã€‚<br>    loadFactoryå¤ªå¤§ä¼šå¯¼è‡´æŸ¥è¯¢æ•ˆç‡å˜æ…¢ï¼Œå¤ªå°ä¼šæµªè´¹å†…å­˜ç©ºé—´ã€‚</p>
</blockquote>
<h4 id="æ„é€ æ–¹æ³•"><a href="#æ„é€ æ–¹æ³•" class="headerlink" title="æ„é€ æ–¹æ³•"></a>æ„é€ æ–¹æ³•</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;æ ¹æ®æŒ‡å®šçš„åˆå§‹åŒ–å®¹é‡å’Œè´Ÿè½½å› å­åˆ›å»ºå¯¹è±¡</span><br><span class="line">public HashMap(int initialCapacity, float loadFactor) &#123;</span><br><span class="line">    if (initialCapacity &lt; 0)</span><br><span class="line">        throw new IllegalArgumentException(&quot;Illegal initial capacity: &quot; +</span><br><span class="line">                                           initialCapacity);</span><br><span class="line">    if (initialCapacity &gt; MAXIMUM_CAPACITY)</span><br><span class="line">        initialCapacity &#x3D; MAXIMUM_CAPACITY;</span><br><span class="line">    if (loadFactor &lt;&#x3D; 0 || Float.isNaN(loadFactor))</span><br><span class="line">        throw new IllegalArgumentException(&quot;Illegal load factor: &quot; +</span><br><span class="line">                                           loadFactor);</span><br><span class="line">    this.loadFactor &#x3D; loadFactor;</span><br><span class="line">    this.threshold &#x3D; tableSizeFor(initialCapacity);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;æŒ‡å®šåˆå§‹åŒ–å®¹é‡ï¼Œè´Ÿè½½å› å­é»˜è®¤ä¸º0.75</span><br><span class="line">public HashMap(int initialCapacity) &#123;</span><br><span class="line">    this(initialCapacity, DEFAULT_LOAD_FACTOR);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public HashMap() &#123;</span><br><span class="line">    this.loadFactor &#x3D; DEFAULT_LOAD_FACTOR; &#x2F;&#x2F; all other fields defaulted</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;æ ¹æ®æŒ‡å®šçš„mapé›†åˆåˆ›å»ºå¯¹è±¡</span><br><span class="line">public HashMap(Map&lt;? extends K, ? extends V&gt; m) &#123;</span><br><span class="line">    this.loadFactor &#x3D; DEFAULT_LOAD_FACTOR;</span><br><span class="line">    putMapEntries(m, false);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="putæ–¹æ³•"><a href="#putæ–¹æ³•" class="headerlink" title="putæ–¹æ³•"></a>putæ–¹æ³•</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public V put(K key, V value) &#123;</span><br><span class="line">        return putVal(hash(key), key, value, false, true);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">final V putVal(int hash, K key, V value, boolean onlyIfAbsent,</span><br><span class="line">               boolean evict) &#123;</span><br><span class="line">    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; int n, i;</span><br><span class="line">    &#x2F;&#x2F;åˆ¤æ–­tableæ˜¯å¦æœªåˆå§‹åŒ–æˆ–é•¿åº¦ä¸º0ï¼Œå¦‚æœæ˜¯å°±æ‰©å®¹</span><br><span class="line">    if ((tab &#x3D; table) &#x3D;&#x3D; null || (n &#x3D; tab.length) &#x3D;&#x3D; 0)</span><br><span class="line">        n &#x3D; (tab &#x3D; resize()).length;</span><br><span class="line">    &#x2F;&#x2F;ç¡®å®šå…ƒç´ æ”¾åœ¨é‚£ä¸ªæ¡¶ï¼Œå¦‚æœæ¡¶ä¸ºç©ºåˆ™ç›´æ¥æ’å…¥</span><br><span class="line">    if ((p &#x3D; tab[i &#x3D; (n - 1) &amp; hash]) &#x3D;&#x3D; null)</span><br><span class="line">        tab[i] &#x3D; newNode(hash, key, value, null);</span><br><span class="line">    else &#123;</span><br><span class="line">        Node&lt;K,V&gt; e; K k;</span><br><span class="line">        &#x2F;&#x2F;åˆ¤æ–­å“ˆå¸Œï¼Œé”®æ˜¯å¦ç›¸ç­‰</span><br><span class="line">        if (p.hash &#x3D;&#x3D; hash &amp;&amp;</span><br><span class="line">            ((k &#x3D; p.key) &#x3D;&#x3D; key || (key !&#x3D; null &amp;&amp; key.equals(k))))</span><br><span class="line">            e &#x3D; p;åé¢è¿›è¡Œè¦†ç›–</span><br><span class="line">        &#x2F;&#x2F;åˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦ä¸ºçº¢é»‘æ ‘</span><br><span class="line">        else if (p instanceof TreeNode)</span><br><span class="line">        	  &#x2F;&#x2F;å­˜æ”¾è¿›çº¢é»‘æ ‘ä¸­</span><br><span class="line">            e &#x3D; ((TreeNode&lt;K,V&gt;)p).putTreeVal(this, tab, hash, key, value);</span><br><span class="line">        else &#123;</span><br><span class="line">            &#x2F;&#x2F;å¾ªç¯éå†é“¾è¡¨</span><br><span class="line">            for (int binCount &#x3D; 0; ; ++binCount) &#123;</span><br><span class="line">                &#x2F;&#x2F;æ’å…¥é“¾è¡¨çš„å°¾éƒ¨</span><br><span class="line">                if ((e &#x3D; p.next) &#x3D;&#x3D; null) &#123;</span><br><span class="line">                    p.next &#x3D; newNode(hash, key, value, null);</span><br><span class="line">                    &#x2F;&#x2F;åˆ¤æ–­æ˜¯å¦è¦å°†é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘</span><br><span class="line">                    if (binCount &gt;&#x3D; TREEIFY_THRESHOLD - 1) </span><br><span class="line">                        treeifyBin(tab, hash);</span><br><span class="line">                    break;</span><br><span class="line">                &#125;</span><br><span class="line">                &#x2F;&#x2F;åˆ¤æ–­èŠ‚ç‚¹çš„hashå’Œkeyæ˜¯å¦ç›¸ç­‰</span><br><span class="line">                if (e.hash &#x3D;&#x3D; hash &amp;&amp;</span><br><span class="line">                    ((k &#x3D; e.key) &#x3D;&#x3D; key || (key !&#x3D; null &amp;&amp; key.equals(k))))</span><br><span class="line">                    break;</span><br><span class="line">                p &#x3D; e;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        &#x2F;&#x2F;å¦‚æœeä¸ä¸ºç©ºï¼Œåˆ™æ˜¯è¿›è¡Œè¦†ç›–æ“ä½œ</span><br><span class="line">        if (e !&#x3D; null) &#123; &#x2F;&#x2F; existing mapping for key</span><br><span class="line">            V oldValue &#x3D; e.value;</span><br><span class="line">            if (!onlyIfAbsent || oldValue &#x3D;&#x3D; null)</span><br><span class="line">                e.value &#x3D; value;</span><br><span class="line">            afterNodeAccess(e);</span><br><span class="line">            return oldValue;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ++modCount;</span><br><span class="line">    if (++size &gt; threshold)</span><br><span class="line">        resize();&#x2F;&#x2F;æ‰©å®¹</span><br><span class="line">    afterNodeInsertion(evict);</span><br><span class="line">    return null;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="getæ–¹æ³•"><a href="#getæ–¹æ³•" class="headerlink" title="getæ–¹æ³•"></a>getæ–¹æ³•</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public V get(Object key) &#123;</span><br><span class="line">     Node&lt;K,V&gt; e;</span><br><span class="line">     return (e &#x3D; getNode(hash(key), key)) &#x3D;&#x3D; null ? null : e.value;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">final Node&lt;K,V&gt; getNode(int hash, Object key) &#123;</span><br><span class="line">    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first, e; int n; K k;</span><br><span class="line">    &#x2F;&#x2F;åˆ¤æ–­å“ˆå¸Œè¡¨æ˜¯å¦ä¸ºç©ºï¼Œé•¿åº¦æ˜¯å¦å¤§äº0ï¼Œhashå€¼å¯¹åº”çš„æ¡¶æ˜¯å¦ä¸ºç©º</span><br><span class="line">    if ((tab &#x3D; table) !&#x3D; null &amp;&amp; (n &#x3D; tab.length) &gt; 0 &amp;&amp;</span><br><span class="line">        (first &#x3D; tab[(n - 1) &amp; hash]) !&#x3D; null) &#123;</span><br><span class="line">        &#x2F;&#x2F;åˆ¤æ–­hashï¼Œkeyæ˜¯å¦ç›¸ç­‰</span><br><span class="line">        if (first.hash &#x3D;&#x3D; hash &amp;&amp; &#x2F;&#x2F; always check first node</span><br><span class="line">            ((k &#x3D; first.key) &#x3D;&#x3D; key || (key !&#x3D; null &amp;&amp; key.equals(k))))</span><br><span class="line">            return first;&#x2F;&#x2F;è¿”å›èŠ‚ç‚¹</span><br><span class="line">        if ((e &#x3D; first.next) !&#x3D; null) &#123;</span><br><span class="line">        	  &#x2F;&#x2F;åˆ¤æ–­æ˜¯å¦ä¸ºçº¢é»‘æ ‘</span><br><span class="line">            if (first instanceof TreeNode)</span><br><span class="line">                &#x2F;&#x2F;çº¢é»‘æ ‘æŸ¥æ‰¾</span><br><span class="line">                return ((TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key);</span><br><span class="line">            do &#123;</span><br><span class="line">                &#x2F;&#x2F;é“¾è¡¨éå†æŸ¥æ‰¾</span><br><span class="line">                if (e.hash &#x3D;&#x3D; hash &amp;&amp;</span><br><span class="line">                    ((k &#x3D; e.key) &#x3D;&#x3D; key || (key !&#x3D; null &amp;&amp; key.equals(k))))</span><br><span class="line">                    return e;</span><br><span class="line">            &#125; while ((e &#x3D; e.next) !&#x3D; null);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return null;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>resizeæ–¹æ³•å¾…å†™ã€‚ã€‚</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/19/java%E9%9B%86%E5%90%88-LinkedList/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ±¤å§†çŒ«çš„åšå®¢">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/19/java%E9%9B%86%E5%90%88-LinkedList/" class="post-title-link" itemprop="url">javaé›†åˆ-LinkedList</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-04-19 11:31:19" itemprop="dateCreated datePublished" datetime="2020-04-19T11:31:19+08:00">2020-04-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-04-20 11:16:18" itemprop="dateModified" datetime="2020-04-20T11:16:18+08:00">2020-04-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9B%86%E5%90%88/" itemprop="url" rel="index"><span itemprop="name">é›†åˆ</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="LinkedListç®€ä»‹"><a href="#LinkedListç®€ä»‹" class="headerlink" title="LinkedListç®€ä»‹"></a>LinkedListç®€ä»‹</h3><blockquote>
<p>LinkedListæ•°æ®ç»“æ„æ˜¯åŒç«¯é“¾è¡¨ï¼Œæ‰€ä»¥å®ƒæ”¯æŒé«˜æ•ˆçš„æ’å…¥å’Œåˆ é™¤æ“ä½œï¼Œç»§æ‰¿äºAbstractSequentialList,å®ç°äº†Serializable,List,Deque,Cloneableç­‰æ¥å£</p>
</blockquote>
<blockquote>
<p>LinkedListç»§æ‰¿AbstrctSequentialListï¼Œå®ç°äº†Listæ¥å£ï¼Œä»–æ˜¯ä¸€ä¸ªé“¾è¡¨é˜Ÿåˆ—ï¼Œæä¾›äº†ç›¸å…³çš„æ·»åŠ ï¼Œåˆ é™¤ï¼Œæ’å…¥ï¼Œéå†ç­‰æ“ä½œ</p>
</blockquote>
<blockquote>
<p>LinkedListå®ç°äº†Dequeæ¥å£ï¼Œæ‹¥æœ‰éƒ¨åˆ†é˜Ÿåˆ—çš„æ€§è´¨ï¼Œä¾‹å¦‚å¯ä»¥åœ¨ä¸¤ç«¯æ’å…¥å’Œåˆ é™¤å…ƒç´ </p>
</blockquote>
<blockquote>
<p>LinkedListå®ç°äº†Cloneableæ¥å£ï¼Œè¡¨ç¤ºè¦†ç›–äº†cloneï¼ˆï¼‰æ–¹æ³•ï¼Œèƒ½è¢«å…‹éš†ã€‚</p>
</blockquote>
<blockquote>
<p>LinkedListå®ç°äº†Serializableæ¥å£,è¡¨ç¤ºè¯¥ç±»èƒ½å¤Ÿè¢«åºåˆ—åŒ–æ¥ä¼ è¾“ã€‚</p>
</blockquote>
<p><img src="/images/pasted-0.png" alt="upload successful"></p>
<blockquote>
<p>LinkedListç±»ä¸­çš„é™æ€å†…éƒ¨ç±»Nodeä¾¿æ˜¯ç”¨æ¥å……å½“é“¾è¡¨ä¸­çš„èŠ‚ç‚¹åŠŸèƒ½</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">private static class Node&lt;E&gt; &#123;</span><br><span class="line">      E item;&#x2F;&#x2F;å…ƒç´ æ•°æ®</span><br><span class="line">      Node&lt;E&gt; next;&#x2F;&#x2F;åç»§èŠ‚ç‚¹</span><br><span class="line">      Node&lt;E&gt; prev;&#x2F;&#x2F;å‰é©±èŠ‚ç‚¹</span><br><span class="line"></span><br><span class="line">      Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) &#123;</span><br><span class="line">          this.item &#x3D; element;</span><br><span class="line">          this.next &#x3D; next;</span><br><span class="line">          this.prev &#x3D; prev;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h3 id="LinkedListæºç åˆ†æ"><a href="#LinkedListæºç åˆ†æ" class="headerlink" title="LinkedListæºç åˆ†æ"></a>LinkedListæºç åˆ†æ</h3><h4 id="æ„é€ æ–¹æ³•"><a href="#æ„é€ æ–¹æ³•" class="headerlink" title="æ„é€ æ–¹æ³•"></a>æ„é€ æ–¹æ³•</h4> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> &#x2F;&#x2F;æ— å‚æ„é€ æ–¹æ³•</span><br><span class="line"> public LinkedList() &#123;&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * æ ¹æ®æŒ‡å®šé›†åˆåˆ›å»ºé“¾è¡¨</span><br><span class="line"> * @param  c the collection whose elements are to be placed into this list</span><br><span class="line"> * @throws NullPointerException if the specified collection is null</span><br><span class="line"> *&#x2F;</span><br><span class="line">public LinkedList(Collection&lt;? extends E&gt; c) &#123;</span><br><span class="line">    this();</span><br><span class="line">    addAll(c);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="addæ–¹æ³•"><a href="#addæ–¹æ³•" class="headerlink" title="addæ–¹æ³•"></a>addæ–¹æ³•</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public boolean add(E e) &#123;</span><br><span class="line">    linkLast(e);&#x2F;&#x2F;æ’å…¥é“¾è¡¨å°¾éƒ¨</span><br><span class="line">    return true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">void linkLast(E e) &#123;</span><br><span class="line">    final Node&lt;E&gt; l &#x3D; last;</span><br><span class="line">    final Node&lt;E&gt; newNode &#x3D; new Node&lt;&gt;(l, e, null);&#x2F;&#x2F;æ–°å»ºèŠ‚ç‚¹</span><br><span class="line">    last &#x3D; newNode;&#x2F;&#x2F;å°¾éƒ¨æŒ‡å‘æ–°å»ºèŠ‚ç‚¹</span><br><span class="line">    if (l &#x3D;&#x3D; null)&#x2F;&#x2F;å¦‚æœå°¾éƒ¨èŠ‚ç‚¹ä¸ºç©ºï¼Œåˆ™ä»£è¡¨å½“å‰é“¾è¡¨å…ƒç´ ä¸ºç©º</span><br><span class="line">        first &#x3D; newNode;</span><br><span class="line">    else</span><br><span class="line">        l.next &#x3D; newNode;æŒ‡å‘æ–°å»ºçš„èŠ‚ç‚¹</span><br><span class="line">    size++;</span><br><span class="line">    modCount++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="åœ¨æŒ‡å®šä½ç½®æ’å…¥çš„addæ–¹æ³•"><a href="#åœ¨æŒ‡å®šä½ç½®æ’å…¥çš„addæ–¹æ³•" class="headerlink" title="åœ¨æŒ‡å®šä½ç½®æ’å…¥çš„addæ–¹æ³•"></a>åœ¨æŒ‡å®šä½ç½®æ’å…¥çš„addæ–¹æ³•</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">public void add(int index, E element) &#123;</span><br><span class="line">    checkPositionIndex(index);&#x2F;&#x2F;æ£€æŸ¥ä¸‹æ ‡èŒƒå›´</span><br><span class="line">    if (index &#x3D;&#x3D; size)&#x2F;&#x2F;åˆ¤æ–­ä¸‹æ ‡å€¼</span><br><span class="line">        linkLast(element);&#x2F;&#x2F;æ’å…¥å°¾éƒ¨ï¼ˆä¸Šé¢è®²è¿‡äº†ï¼‰</span><br><span class="line">    else</span><br><span class="line">        linkBefore(element, node(index));&#x2F;&#x2F;æ’å…¥æŒ‡å®šä½ç½®</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Node&lt;E&gt; node(int index) &#123;</span><br><span class="line">       &#x2F;&#x2F; assert isElementIndex(index);</span><br><span class="line">		&#x2F;&#x2F;åˆ¤æ–­ä¸‹æ ‡æ˜¯å¦å°äºé“¾è¡¨å¤§å°&#x2F;2</span><br><span class="line">       &#x2F;&#x2F;è¿™é‡Œå¯¹åŠæŸ¥è¯¢</span><br><span class="line">       &#x2F;&#x2F;size&gt;&gt;1&#x3D;&#x3D;size&#x2F;2</span><br><span class="line">       if (index &lt; (size &gt;&gt; 1)) &#123;</span><br><span class="line">           Node&lt;E&gt; x &#x3D; first;</span><br><span class="line">           for (int i &#x3D; 0; i &lt; index; i++)</span><br><span class="line">               x &#x3D; x.next;</span><br><span class="line">           return x;</span><br><span class="line">       &#125; else &#123;</span><br><span class="line">           Node&lt;E&gt; x &#x3D; last;</span><br><span class="line">           for (int i &#x3D; size - 1; i &gt; index; i--)</span><br><span class="line">               x &#x3D; x.prev;</span><br><span class="line">           return x;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">void linkBefore(E e, Node&lt;E&gt; succ) &#123;</span><br><span class="line">    &#x2F;&#x2F; assert succ !&#x3D; null;</span><br><span class="line">    final Node&lt;E&gt; pred &#x3D; succ.prev;è·å¾—åŸä½ç½®èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹</span><br><span class="line">    final Node&lt;E&gt; newNode &#x3D; new Node&lt;&gt;(pred, e, succ);&#x2F;&#x2F;åˆ›å»ºæ–°èŠ‚ç‚¹</span><br><span class="line">    succ.prev &#x3D; newNode;åŸä½ç½®èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹æŒ‡å‘æ–°èŠ‚ç‚¹</span><br><span class="line">    if (pred &#x3D;&#x3D; null)&#x2F;&#x2F;åˆ¤æ–­æ˜¯å¦ä¸ºå¤´èŠ‚ç‚¹</span><br><span class="line">        first &#x3D; newNode;å¤´èŠ‚ç‚¹æŒ‡å‘æ–°èŠ‚ç‚¹</span><br><span class="line">    else</span><br><span class="line">        pred.next &#x3D; newNode;</span><br><span class="line">    size++;</span><br><span class="line">    modCount++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="addAllæ–¹æ³•"><a href="#addAllæ–¹æ³•" class="headerlink" title="addAllæ–¹æ³•"></a>addAllæ–¹æ³•</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public boolean addAll(Collection&lt;? extends E&gt; c) &#123;</span><br><span class="line">    return addAll(size, c);&#x2F;&#x2F;å°¾éƒ¨æ‰¹é‡æ’å…¥</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="æŒ‡å®šä½ç½®çš„addAllæ–¹æ³•"><a href="#æŒ‡å®šä½ç½®çš„addAllæ–¹æ³•" class="headerlink" title="æŒ‡å®šä½ç½®çš„addAllæ–¹æ³•"></a>æŒ‡å®šä½ç½®çš„addAllæ–¹æ³•</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">public boolean addAll(int index, Collection&lt;? extends E&gt; c) &#123;</span><br><span class="line">      checkPositionIndex(index);&#x2F;&#x2F;æ£€æµ‹ä¸‹æ ‡èŒƒå›´</span><br><span class="line"></span><br><span class="line">      Object[] a &#x3D; c.toArray();&#x2F;&#x2F;é›†åˆè½¬æ¢ä¸ºæ•°ç»„</span><br><span class="line">      int numNew &#x3D; a.length;</span><br><span class="line">      if (numNew &#x3D;&#x3D; 0)</span><br><span class="line">          return false;</span><br><span class="line"></span><br><span class="line">      Node&lt;E&gt; pred, succ;</span><br><span class="line">      if (index &#x3D;&#x3D; size)&#123;&#x2F;&#x2F;åˆ¤æ–­ä¸‹æ ‡é•¿åº¦æ˜¯å¦ç­‰äºé“¾è¡¨é•¿åº¦ï¼Œå³æ’å…¥å°¾éƒ¨</span><br><span class="line">          succ &#x3D; null;</span><br><span class="line">          pred &#x3D; last;</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">          succ &#x3D; node(index);</span><br><span class="line">          pred &#x3D; succ.prev;</span><br><span class="line">      &#125;</span><br><span class="line">	&#x2F;&#x2F;å¾ªç¯éå†æŒ‡å®šæ•°ç»„</span><br><span class="line">      for (Object o : a) &#123;</span><br><span class="line">          @SuppressWarnings(&quot;unchecked&quot;) E e &#x3D; (E) o;</span><br><span class="line">          Node&lt;E&gt; newNode &#x3D; new Node&lt;&gt;(pred, e, null);</span><br><span class="line">          if (pred &#x3D;&#x3D; null)</span><br><span class="line">              first &#x3D; newNode;</span><br><span class="line">          else</span><br><span class="line">              pred.next &#x3D; newNode;</span><br><span class="line">          pred &#x3D; newNode;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      if (succ &#x3D;&#x3D; null) &#123;</span><br><span class="line">          last &#x3D; pred;</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">          pred.next &#x3D; succ;</span><br><span class="line">          succ.prev &#x3D; pred;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      size +&#x3D; numNew;</span><br><span class="line">      modCount++;</span><br><span class="line">      return true;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h4 id="removeæ–¹æ³•"><a href="#removeæ–¹æ³•" class="headerlink" title="removeæ–¹æ³•"></a>removeæ–¹æ³•</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;åˆ é™¤æŒ‡å®šå…ƒç´ </span><br><span class="line">public boolean remove(Object o) &#123;</span><br><span class="line">        if (o &#x3D;&#x3D; null) &#123;</span><br><span class="line">            for (Node&lt;E&gt; x &#x3D; first; x !&#x3D; null; x &#x3D; x.next) &#123;</span><br><span class="line">                if (x.item &#x3D;&#x3D; null) &#123;</span><br><span class="line">                    unlink(x);</span><br><span class="line">                    return true;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            for (Node&lt;E&gt; x &#x3D; first; x !&#x3D; null; x &#x3D; x.next) &#123;</span><br><span class="line">                if (o.equals(x.item)) &#123;</span><br><span class="line">                    unlink(x);</span><br><span class="line">                    return true;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">E unlink(Node&lt;E&gt; x) &#123;</span><br><span class="line">        &#x2F;&#x2F; assert x !&#x3D; null;</span><br><span class="line">        final E element &#x3D; x.item;&#x2F;&#x2F;è·å¾—è¦åˆ é™¤å…ƒç´ çš„å€¼</span><br><span class="line">        final Node&lt;E&gt; next &#x3D; x.next;&#x2F;&#x2F;è·å¾—è¦åˆ é™¤å…ƒç´ çš„åç»§èŠ‚ç‚¹</span><br><span class="line">        final Node&lt;E&gt; prev &#x3D; x.prev;&#x2F;&#x2F;è·å¾—è¦åˆ é™¤å…ƒç´ çš„å‰é©±èŠ‚ç‚¹</span><br><span class="line">        &#x2F;&#x2F;åˆ¤æ–­å‰é©±èŠ‚ç‚¹æ˜¯å¦ä¸ºç©º</span><br><span class="line">        if (prev &#x3D;&#x3D; null) &#123;</span><br><span class="line">            first &#x3D; next;&#x2F;&#x2F;æŠŠå¤´æŒ‡é’ˆæŒ‡å‘åç»§èŠ‚ç‚¹</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            prev.next &#x3D; next;&#x2F;&#x2F;å‰é©±èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹æŒ‡å‘xçš„åç»§èŠ‚ç‚¹</span><br><span class="line">            x.prev &#x3D; null;</span><br><span class="line">        &#125;</span><br><span class="line">			&#x2F;&#x2F;åˆ¤æ–­åç»§èŠ‚ç‚¹æ˜¯å¦ä¸ºç©º</span><br><span class="line">        if (next &#x3D;&#x3D; null) &#123;</span><br><span class="line">            last &#x3D; prev;&#x2F;&#x2F;æŠŠå°¾æŒ‡é’ˆæŒ‡å‘å‰é©±èŠ‚ç‚¹</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            next.prev &#x3D; prev;&#x2F;&#x2F;åç»§èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹æŒ‡å‘xçš„å‰é©±èŠ‚ç‚¹</span><br><span class="line">            x.next &#x3D; null;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        x.item &#x3D; null;</span><br><span class="line">        size--;é•¿åº¦å‡ä¸€</span><br><span class="line">        modCount++;</span><br><span class="line">        return element;è¿”å›xæ•°æ®</span><br><span class="line">    &#125;</span><br><span class="line">&#96;&#96;&#96;</span><br></pre></td></tr></table></figure>
<h4 id="getæ–¹æ³•"><a href="#getæ–¹æ³•" class="headerlink" title="getæ–¹æ³•"></a>getæ–¹æ³•</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;ä¸Šé¢éƒ½è®²è¿‡äº†ã€‚ã€‚</span><br><span class="line">public E get(int index) &#123;</span><br><span class="line">        checkElementIndex(index);</span><br><span class="line">        return node(index).item;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h3 id="ArrayListå’ŒLinkedListçš„åŒºåˆ«ï¼Œä½¿ç”¨åœºæ™¯"><a href="#ArrayListå’ŒLinkedListçš„åŒºåˆ«ï¼Œä½¿ç”¨åœºæ™¯" class="headerlink" title="ArrayListå’ŒLinkedListçš„åŒºåˆ«ï¼Œä½¿ç”¨åœºæ™¯"></a>ArrayListå’ŒLinkedListçš„åŒºåˆ«ï¼Œä½¿ç”¨åœºæ™¯</h3><h4 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h4><blockquote>
<p>1.ArrayListå’ŒLinkedListçš„åŒºåˆ«å°±æ¥è‡ªäºä»–ä»¬çš„åº•å±‚æ•°æ®ç»“æ„ï¼ŒArrayListæ˜¯åŸºäºæ•°ç»„å®ç°çš„ï¼Œå› æ­¤å®ƒéšæœºéå†ä¼šå¾ˆå¿«ï¼ŒLinkedListæ˜¯åŸºäºåŒç«¯é“¾è¡¨ï¼Œå› æ­¤å®ƒæ’å…¥åˆ é™¤ä¼šå¾ˆå¿«ã€‚</p>
</blockquote>
<blockquote>
<p>2.ç›¸å¯¹äºArrayListï¼ŒLinkedListçš„éšæœºè®¿é—®é›†åˆå…ƒç´ æ—¶æ€§èƒ½è¾ƒå·®ï¼Œå› ä¸ºéœ€è¦åœ¨åŒå‘åˆ—è¡¨ä¸­æ‰¾åˆ°è¦indexçš„ä½ç½®ï¼Œå†è¿”å›ï¼›ä½†åœ¨æ’å…¥ï¼Œåˆ é™¤æ“ä½œæ˜¯æ›´å¿«çš„ã€‚å› ä¸ºLinkedListä¸åƒArrayListä¸€æ ·ï¼Œä¸éœ€è¦æ”¹å˜æ•°ç»„çš„å¤§å°ï¼Œä¹Ÿä¸éœ€è¦åœ¨æ•°ç»„è£…æ»¡çš„æ—¶å€™è¦å°†æ‰€æœ‰çš„æ•°æ®é‡æ–°è£…å…¥ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œè¿™æ˜¯ArrayListæœ€åçš„ä¸€ç§æƒ…å†µï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(n)ï¼Œè€ŒLinkedListä¸­æ’å…¥æˆ–åˆ é™¤çš„æ—¶é—´å¤æ‚åº¦ä»…ä¸ºO(1)ã€‚ArrayListåœ¨æ’å…¥æ•°æ®æ—¶è¿˜éœ€è¦æ›´æ–°ç´¢å¼•ï¼ˆé™¤äº†æ’å…¥æ•°ç»„çš„å°¾éƒ¨ï¼‰ã€‚</p>
</blockquote>
<blockquote>
<p>3.å­˜å‚¨åŒæ ·æ•°æ®çš„LinkedListç›¸å¯¹äºArrayListä¼šå ç”¨æ›´å¤šå†…å­˜ï¼Œå› ä¸ºLinkedListè¿˜è¦å­˜å‚¨å‰é©±èŠ‚ç‚¹å’Œåé©±èŠ‚ç‚¹çš„ä½ç½®ã€‚</p>
</blockquote>
<h4 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h4><blockquote>
<p>1.åœ¨éœ€è¦å¤§é‡çš„éšæœºè®¿é—®ï¼Œä½¿ç”¨ArrayListä¼˜äºLinkedList</p>
</blockquote>
<blockquote>
<p>2.åœ¨éœ€è¦å¤§é‡çš„æ’å…¥å’Œåˆ é™¤æ“ä½œæ—¶ï¼Œä½¿ç”¨LinkedListä¼˜äºArrayList</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/18/java%E9%9B%86%E5%90%88-ArrayList-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ±¤å§†çŒ«çš„åšå®¢">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/18/java%E9%9B%86%E5%90%88-ArrayList-1/" class="post-title-link" itemprop="url">javaé›†åˆ-ArrayList</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-04-18 19:31:03 / Modified: 23:43:41" itemprop="dateCreated datePublished" datetime="2020-04-18T19:31:03+08:00">2020-04-18</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9B%86%E5%90%88/" itemprop="url" rel="index"><span itemprop="name">é›†åˆ</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="ArrayListç®€ä»‹"><a href="#ArrayListç®€ä»‹" class="headerlink" title="ArrayListç®€ä»‹"></a>ArrayListç®€ä»‹</h3><blockquote>
<p>ArrayListæ•°æ®ç»“æ„æ˜¯åŸºäºæ•°ç»„ï¼Œä¸javaåŸæœ¬æ•°ç»„ä¸ä¸€æ ·çš„æ˜¯å®ƒèƒ½å¤ŸåŠ¨æ€å¢é•¿ï¼Œç»§æ‰¿äºAbstractList,å®ç°äº†List,Serializable,RandomAccess,Cloneableç­‰æ¥å£ã€‚</p>
</blockquote>
<blockquote>
<p>ArrayList ç»§æ‰¿äº†AbstractListï¼Œå®ç°äº†Listã€‚å®ƒæ˜¯ä¸€ä¸ªæ•°ç»„é˜Ÿåˆ—ï¼Œæä¾›äº†ç›¸å…³çš„æ·»åŠ ã€åˆ é™¤ã€ä¿®æ”¹ã€éå†ç­‰åŠŸèƒ½ã€‚</p>
</blockquote>
<blockquote>
<p>ArrayListå®ç°äº†Cloneableæ¥å£ï¼Œè¡¨ç¤ºè¦†ç›–äº†cloneï¼ˆï¼‰æ–¹æ³•ï¼Œèƒ½è¢«å…‹éš†ã€‚</p>
</blockquote>
<blockquote>
<p>ArrayListå®ç°äº†Serializableæ¥å£,è¡¨ç¤ºè¯¥ç±»èƒ½å¤Ÿè¢«åºåˆ—åŒ–æ¥ä¼ è¾“</p>
</blockquote>
<blockquote>
<p>ArrayListå®ç°äº†RandomAccessæ¥å£,RandomAccessæ¥å£æ˜¯ä¸€ä¸ªæ ‡è¯†æ¥å£ï¼Œè¡¨ç¤ºè¯¥ç±»æ”¯æŒå¿«é€Ÿéšæœºè®¿é—®ã€‚å¦å¤–ï¼šâ€æ ¹æ®å®˜æ–¹è¯´æ³•è¢«è¯¥æ¥å£æ ‡è¯†çš„ç±»ä½¿ç”¨forå¾ªç¯æ¥éå†è¦ä¼˜äºè¿­ä»£å™¨æ¥éå†â€</p>
</blockquote>
<img src="/images/pasted-2.png">


<h3 id="ArrayListæºç åˆ†æ"><a href="#ArrayListæºç åˆ†æ" class="headerlink" title="ArrayListæºç åˆ†æ"></a>ArrayListæºç åˆ†æ</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">package java.util;</span><br><span class="line"></span><br><span class="line">import java.util.function.Consumer;</span><br><span class="line">import java.util.function.Predicate;</span><br><span class="line">import java.util.function.UnaryOperator;</span><br><span class="line">import sun.misc.SharedSecrets;</span><br><span class="line"></span><br><span class="line">public class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt;</span><br><span class="line">        implements List&lt;E&gt;, RandomAccess, Cloneable, java.io.Serializable</span><br><span class="line">&#123;</span><br><span class="line">    private static final long serialVersionUID &#x3D; 8683452581122892189L;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * é»˜è®¤åˆå§‹åŒ–å®¹é‡.</span><br><span class="line">     *&#x2F;</span><br><span class="line">    private static final int DEFAULT_CAPACITY &#x3D; 10;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * ç©ºæ•°ç»„</span><br><span class="line">     *&#x2F;</span><br><span class="line">    private static final Object[] EMPTY_ELEMENTDATA &#x3D; &#123;&#125;;</span><br><span class="line"></span><br><span class="line">		&#x2F;&#x2F;ç”¨äºé»˜è®¤å¤§å°ç©ºå®ä¾‹çš„å…±äº«ç©ºæ•°ç»„å®ä¾‹ã€‚</span><br><span class="line">      &#x2F;&#x2F;æˆ‘ä»¬æŠŠå®ƒä»EMPTY_ELEMENTDATAæ•°ç»„ä¸­åŒºåˆ†å‡ºæ¥ï¼Œä»¥çŸ¥é“åœ¨æ·»åŠ ç¬¬ä¸€ä¸ªå…ƒç´ æ—¶å®¹é‡éœ€è¦å¢åŠ å¤šå°‘ã€‚</span><br><span class="line">    private static final Object[] DEFAULTCAPACITY_EMPTY_ELEMENTDATA &#x3D; &#123;&#125;;</span><br><span class="line"></span><br><span class="line">	  &#x2F;&#x2F;ç”¨äºä¿å­˜ArrayListæ•°æ®çš„æ•°ç»„</span><br><span class="line">     &#x2F;&#x2F;è¿™é‡Œç”¨äº†transientå…³é”®å­—æ¥è¡¨ç¤ºè¯¥æ•°ç»„ä¸è¢«åºåˆ—åŒ–ï¼Œåœ¨è¿™é‡Œæ˜¯ä¸ºäº†é¿å…javaè‡ªå¸¦çš„åºåˆ—åŒ–æ“ä½œï¼Œå¹¶å®šä¹‰äº†ä¸¤ä¸ªæ–¹æ³•ï¼Œå®ç°è‡ªå®šçš„åºåˆ—åŒ–æ“ä½œã€‚</span><br><span class="line">      </span><br><span class="line">    transient Object[] elementData; &#x2F;&#x2F; non-private to simplify nested class access</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * The size of the ArrayList (the number of elements it contains).</span><br><span class="line">     * å½“å‰å…ƒç´ ä¸ªæ•°</span><br><span class="line">     * @serial</span><br><span class="line">     *&#x2F;</span><br><span class="line">    private int size;</span><br></pre></td></tr></table></figure>
<p><a href="https://blog.csdn.net/yingfeng612/article/details/79813484" target="_blank" rel="noopener">ArrayListä¸­çš„æ•°ç»„ä¸ºä»€ä¹ˆè¢«transientä¿®é¥°</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br></pre></td><td class="code"><pre><span class="line">   &#x2F;**</span><br><span class="line">    * å¸¦åˆå§‹åŒ–å®¹é‡çš„æ„é€ æ–¹æ³•</span><br><span class="line">    * </span><br><span class="line">    * @param  initialCapacity  the initial capacity of the list</span><br><span class="line">    * @throws IllegalArgumentException if the specified initial capacity</span><br><span class="line">    *         is negative</span><br><span class="line">    *&#x2F;</span><br><span class="line">   public ArrayList(int initialCapacity) &#123;</span><br><span class="line">       if (initialCapacity &gt; 0) &#123;</span><br><span class="line">           this.elementData &#x3D; new Object[initialCapacity];</span><br><span class="line">       &#125; else if (initialCapacity &#x3D;&#x3D; 0) &#123;</span><br><span class="line">       &#x2F;&#x2F;åˆ›å»ºç©ºæ•°ç»„</span><br><span class="line">           this.elementData &#x3D; EMPTY_ELEMENTDATA;</span><br><span class="line">       &#125; else &#123;</span><br><span class="line">           throw new IllegalArgumentException(&quot;Illegal Capacity: &quot;+</span><br><span class="line">                                              initialCapacity);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#x2F;**</span><br><span class="line">    * é»˜è®¤æ„é€ å‡½æ•°ï¼ŒDEFAULTCAPACITY_EMPTY_ELEMENTDATA ä¸º0.åˆå§‹åŒ–ä¸º10ï¼Œä¹Ÿå°±æ˜¯è¯´åˆå§‹å…¶å®æ˜¯ç©ºæ•°ç»„ å½“æ·»åŠ ç¬¬ä¸€ä¸ªå…ƒç´ çš„æ—¶å€™æ•°ç»„å®¹é‡æ‰å˜æˆ10.</span><br><span class="line">    *&#x2F;</span><br><span class="line">   public ArrayList() &#123;</span><br><span class="line">       this.elementData &#x3D; DEFAULTCAPACITY_EMPTY_ELEMENTDATA;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#x2F;**</span><br><span class="line">    * æŒ‰ç…§æŒ‡å®šé›†åˆçš„è¿­ä»£å™¨è¿”å›çš„é¡ºåºåˆ›å»ºæ•°ç»„å…ƒç´ </span><br><span class="line">    *</span><br><span class="line">    * @param c the collection whose elements are to be placed into this list</span><br><span class="line">    * @throws NullPointerException if the specified collection is null</span><br><span class="line">    *&#x2F;</span><br><span class="line">   public ArrayList(Collection&lt;? extends E&gt; c) &#123;</span><br><span class="line">       elementData &#x3D; c.toArray();</span><br><span class="line">       if ((size &#x3D; elementData.length) !&#x3D; 0) &#123;</span><br><span class="line">           &#x2F;&#x2F; c.toArray might (incorrectly) not return Object[] (see 6260652)</span><br><span class="line">           if (elementData.getClass() !&#x3D; Object[].class)</span><br><span class="line">               elementData &#x3D; Arrays.copyOf(elementData, size, Object[].class);</span><br><span class="line">       &#125; else &#123;</span><br><span class="line">           &#x2F;&#x2F; replace with empty array.</span><br><span class="line">           this.elementData &#x3D; EMPTY_ELEMENTDATA;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#x2F;**</span><br><span class="line">    * ä¿®æ”¹è¿™ä¸ªArrayListå®ä¾‹çš„å®¹é‡æ˜¯åˆ—è¡¨çš„å½“å‰å¤§å°ã€‚ åº”ç”¨ç¨‹åºå¯ä»¥ä½¿ç”¨æ­¤æ“ä½œæ¥æœ€å°åŒ–ArrayListå®ä¾‹çš„å­˜å‚¨ã€‚</span><br><span class="line">    * the storage of an &lt;tt&gt;ArrayList&lt;&#x2F;tt&gt; instance.</span><br><span class="line">    *&#x2F;</span><br><span class="line">   public void trimToSize() &#123;</span><br><span class="line">       modCount++;</span><br><span class="line">       if (size &lt; elementData.length) &#123;</span><br><span class="line">           elementData &#x3D; (size &#x3D;&#x3D; 0)</span><br><span class="line">             ? EMPTY_ELEMENTDATA</span><br><span class="line">             : Arrays.copyOf(elementData, size);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#x2F;**</span><br><span class="line">    * ä¸æ‡‚è¿™åšå•¥çš„ã€‚ã€‚ã€‚</span><br><span class="line">    * @param   minCapacity   the desired minimum capacity</span><br><span class="line">    *&#x2F;</span><br><span class="line">   public void ensureCapacity(int minCapacity) &#123;</span><br><span class="line">       int minExpand &#x3D; (elementData !&#x3D; DEFAULTCAPACITY_EMPTY_ELEMENTDATA)</span><br><span class="line">           &#x2F;&#x2F; any size if not default element table</span><br><span class="line">           ? 0</span><br><span class="line">           &#x2F;&#x2F; larger than default for default empty table. It&#39;s already</span><br><span class="line">           &#x2F;&#x2F; supposed to be at default size.</span><br><span class="line">           : DEFAULT_CAPACITY;</span><br><span class="line"></span><br><span class="line">       if (minCapacity &gt; minExpand) &#123;</span><br><span class="line">           ensureExplicitCapacity(minCapacity);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   &#x2F;&#x2F;è®¡ç®—æ‰©å®¹çš„å¤§å°</span><br><span class="line">   private static int calculateCapacity(Object[] elementData, int minCapacity) &#123;</span><br><span class="line">   &#x2F;&#x2F;å¦‚æœæ•°ç»„å…ƒç´ æ˜¯ç©ºæ•°ç»„å°±è¿”å›æœ€å¤§å€¼</span><br><span class="line">       if (elementData &#x3D;&#x3D; DEFAULTCAPACITY_EMPTY_ELEMENTDATA) &#123;</span><br><span class="line">           return Math.max(DEFAULT_CAPACITY, minCapacity);</span><br><span class="line">       &#125;</span><br><span class="line">       return minCapacity;</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   private void ensureCapacityInternal(int minCapacity) &#123;</span><br><span class="line">       ensureExplicitCapacity(calculateCapacity(elementData, minCapacity));</span><br><span class="line">   &#125;</span><br><span class="line">   &#x2F;&#x2F;æ‰©å®¹ä¸»è¦çš„æ–¹æ³•</span><br><span class="line">   private void ensureExplicitCapacity(int minCapacity) &#123;</span><br><span class="line">       modCount++;</span><br><span class="line">       </span><br><span class="line">       &#x2F;&#x2F; overflow-conscious code</span><br><span class="line">       if (minCapacity - elementData.length &gt; 0)</span><br><span class="line">           grow(minCapacity);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#x2F;**</span><br><span class="line">    * The maximum size of array to allocate.</span><br><span class="line">    * Some VMs reserve some header words in an array.</span><br><span class="line">    * Attempts to allocate larger arrays may result in</span><br><span class="line">    * OutOfMemoryError: Requested array size exceeds VM limit</span><br><span class="line">    *&#x2F;</span><br><span class="line">   private static final int MAX_ARRAY_SIZE &#x3D; Integer.MAX_VALUE - 8;</span><br><span class="line">   &#x2F;**</span><br><span class="line">    * æ‰©å®¹çš„æ ¸å¿ƒåŠæ³•</span><br><span class="line">    * @param minCapacity the desired minimum capacity</span><br><span class="line">    *&#x2F;</span><br><span class="line">    </span><br><span class="line">   private void grow(int minCapacity) &#123;</span><br><span class="line">       &#x2F;&#x2F; overflow-conscious code</span><br><span class="line">       &#x2F;&#x2F;è·å¾—æ—§æ•°ç»„å¤§å°</span><br><span class="line">       int oldCapacity &#x3D; elementData.length;</span><br><span class="line">       &#x2F;&#x2F;è·å¾—æ—§æ•°ç»„å¤§å°1.5å€</span><br><span class="line">       int newCapacity &#x3D; oldCapacity + (oldCapacity &gt;&gt; 1);</span><br><span class="line">       if (newCapacity - minCapacity &lt; 0)</span><br><span class="line">           newCapacity &#x3D; minCapacity;</span><br><span class="line">       &#x2F;&#x2F;æ£€æŸ¥æ‰©å®¹çš„å¤§å°æ˜¯å¦è¿˜å°äºæœ€å°éœ€æ±‚çš„å®¹é‡</span><br><span class="line">       if (newCapacity - MAX_ARRAY_SIZE &gt; 0)</span><br><span class="line">           newCapacity &#x3D; hugeCapacity(minCapacity);	</span><br><span class="line">       &#x2F;&#x2F; minCapacity is usually close to size, so this is a win:</span><br><span class="line">       elementData &#x3D; Arrays.copyOf(elementData, newCapacity);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   private static int hugeCapacity(int minCapacity) &#123;</span><br><span class="line">       if (minCapacity &lt; 0) &#x2F;&#x2F; overflow</span><br><span class="line">           throw new OutOfMemoryError();</span><br><span class="line">       return (minCapacity &gt; MAX_ARRAY_SIZE) ?</span><br><span class="line">           Integer.MAX_VALUE :</span><br><span class="line">           MAX_ARRAY_SIZE;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#x2F;**</span><br><span class="line">    * è¿”å›æ•°ç»„å…ƒç´ ä¸ªæ•°</span><br><span class="line">    *</span><br><span class="line">    * @return the number of elements in this list</span><br><span class="line">    *&#x2F;</span><br><span class="line">   public int size() &#123;</span><br><span class="line">       return size;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#x2F;**</span><br><span class="line">    * åˆ¤ç©º</span><br><span class="line">    *</span><br><span class="line">    * @return &lt;tt&gt;true&lt;&#x2F;tt&gt; if this list contains no elements</span><br><span class="line">    *&#x2F;</span><br><span class="line">   public boolean isEmpty() &#123;</span><br><span class="line">       return size &#x3D;&#x3D; 0;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#x2F;**</span><br><span class="line">    * åˆ¤æ–­æŒ‡å®šå…ƒç´ æ˜¯å¦å­˜åœ¨æ•°ç»„å…ƒç´ ä¸­</span><br><span class="line">    * @param o element whose presence in this list is to be tested</span><br><span class="line">    * @return &lt;tt&gt;true&lt;&#x2F;tt&gt; if this list contains the specified element</span><br><span class="line">    *&#x2F;</span><br><span class="line">   public boolean contains(Object o) &#123;</span><br><span class="line">       return indexOf(o) &gt;&#x3D; 0;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#x2F;**</span><br><span class="line">    * è¿”å›æŒ‡å®šå…ƒç´ åœ¨æ•°ç»„çš„é¦–æ¬¡å‡ºç°çš„ç´¢å¼•ï¼Œå¦‚æœä¸åŒ…å«å°±è¿”å›-1</span><br><span class="line">    *&#x2F;</span><br><span class="line">   public int indexOf(Object o) &#123;</span><br><span class="line">       if (o &#x3D;&#x3D; null) &#123;</span><br><span class="line">           for (int i &#x3D; 0; i &lt; size; i++)</span><br><span class="line">               if (elementData[i]&#x3D;&#x3D;null)</span><br><span class="line">                   return i;</span><br><span class="line">       &#125; else &#123;</span><br><span class="line">           for (int i &#x3D; 0; i &lt; size; i++)</span><br><span class="line">               if (o.equals(elementData[i]))</span><br><span class="line">                   return i;</span><br><span class="line">       &#125;</span><br><span class="line">       return -1;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#x2F;**</span><br><span class="line">    * è¿”å›æŒ‡å®šå…ƒç´ åœ¨æ•°ç»„çš„æœ€åå‡ºç°çš„ç´¢å¼•ï¼Œå¦‚æœä¸åŒ…å«å°±è¿”å›-1</span><br><span class="line">    *&#x2F;</span><br><span class="line">   public int lastIndexOf(Object o) &#123;</span><br><span class="line">       if (o &#x3D;&#x3D; null) &#123;</span><br><span class="line">           for (int i &#x3D; size-1; i &gt;&#x3D; 0; i--)</span><br><span class="line">               if (elementData[i]&#x3D;&#x3D;null)</span><br><span class="line">                   return i;</span><br><span class="line">       &#125; else &#123;</span><br><span class="line">           for (int i &#x3D; size-1; i &gt;&#x3D; 0; i--)</span><br><span class="line">               if (o.equals(elementData[i]))</span><br><span class="line">                   return i;</span><br><span class="line">       &#125;</span><br><span class="line">       return -1;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#x2F;**</span><br><span class="line">    * è¿”å›væœ¬èº«ï¼Œä¸ä¼šå½±å“è¯¥æ•°ç»„æœ¬èº«ï¼ˆæˆ‘ç†è§£æ˜¯ä¸ºæ·±æ‹·è´ï¼‰</span><br><span class="line">    * @return a clone of this &lt;tt&gt;ArrayList&lt;&#x2F;tt&gt; instance</span><br><span class="line">    *&#x2F;</span><br><span class="line">   public Object clone() &#123;</span><br><span class="line">       try &#123;</span><br><span class="line">           ArrayList&lt;?&gt; v &#x3D; (ArrayList&lt;?&gt;) super.clone();</span><br><span class="line">           v.elementData &#x3D; Arrays.copyOf(elementData, size);</span><br><span class="line">           v.modCount &#x3D; 0;</span><br><span class="line">           return v;</span><br><span class="line">       &#125; catch (CloneNotSupportedException e) &#123;</span><br><span class="line">           &#x2F;&#x2F; this shouldn&#39;t happen, since we are Cloneable</span><br><span class="line">           throw new InternalError(e);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#x2F;**</span><br><span class="line">    * è¿”å›åŒ…å«è¯¥æ•°ç»„å…ƒç´ çš„æ–°æ•°ç»„ï¼ˆæ·±æ‹·è´ï¼‰</span><br><span class="line">    * @return an array containing all of the elements in this list in</span><br><span class="line">    *         proper sequence</span><br><span class="line">    *&#x2F;</span><br><span class="line">   public Object[] toArray() &#123;</span><br><span class="line">       return Arrays.copyOf(elementData, size);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#x2F;**</span><br><span class="line">    * è¿”å›æŒ‡å®šè¿è¡Œç±»å‹çš„æ•°ç»„</span><br><span class="line">    *&#x2F;</span><br><span class="line">   @SuppressWarnings(&quot;unchecked&quot;)</span><br><span class="line">   public &lt;T&gt; T[] toArray(T[] a) &#123;</span><br><span class="line">       if (a.length &lt; size)</span><br><span class="line">           &#x2F;&#x2F; Make a new array of a&#39;s runtime type, but my contents:</span><br><span class="line">           return (T[]) Arrays.copyOf(elementData, size, a.getClass());</span><br><span class="line">       System.arraycopy(elementData, 0, a, 0, size);</span><br><span class="line">       if (a.length &gt; size)</span><br><span class="line">           a[size] &#x3D; null;</span><br><span class="line">       return a;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#x2F;&#x2F; Positional Access Operations</span><br><span class="line"></span><br><span class="line">   @SuppressWarnings(&quot;unchecked&quot;)</span><br><span class="line">   E elementData(int index) &#123;</span><br><span class="line">       return (E) elementData[index];</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#x2F;**</span><br><span class="line">    * è¿”å›æŒ‡å®šç´¢å¼•çš„å…ƒç´ </span><br><span class="line">    * @param  index index of the element to return</span><br><span class="line">    * @return the element at the specified position in this list</span><br><span class="line">    * @throws IndexOutOfBoundsException &#123;@inheritDoc&#125;</span><br><span class="line">    *&#x2F;</span><br><span class="line">   public E get(int index) &#123;</span><br><span class="line">       rangeCheck(index);</span><br><span class="line"></span><br><span class="line">       return elementData(index);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#x2F;**</span><br><span class="line">    * è®¾ç½®æŒ‡å®šç´¢å¼•ä½ç½®çš„å…ƒç´ </span><br><span class="line">    * @param index index of the element to replace</span><br><span class="line">    * @param element element to be stored at the specified position</span><br><span class="line">    * @return the element previously at the specified position</span><br><span class="line">    * @throws IndexOutOfBoundsException &#123;@inheritDoc&#125;</span><br><span class="line">    *&#x2F;</span><br><span class="line">   public E set(int index, E element) &#123;</span><br><span class="line">       rangeCheck(index);</span><br><span class="line"></span><br><span class="line">       E oldValue &#x3D; elementData(index);</span><br><span class="line">       elementData[index] &#x3D; element;</span><br><span class="line">       return oldValue;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#x2F;**</span><br><span class="line">    * æ·»åŠ å…ƒç´ </span><br><span class="line">    * @param e element to be appended to this list</span><br><span class="line">    * @return &lt;tt&gt;true&lt;&#x2F;tt&gt; (as specified by &#123;@link Collection#add&#125;)</span><br><span class="line">    *&#x2F;</span><br><span class="line">   public boolean add(E e) &#123;</span><br><span class="line">       ensureCapacityInternal(size + 1);  &#x2F;&#x2F; Increments modCount!!</span><br><span class="line">       elementData[size++] &#x3D; e;</span><br><span class="line">       return true;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#x2F;**</span><br><span class="line">    * åœ¨æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ </span><br><span class="line">    * @param index index at which the specified element is to be inserted</span><br><span class="line">    * @param element element to be inserted</span><br><span class="line">    * @throws IndexOutOfBoundsException &#123;@inheritDoc&#125;</span><br><span class="line">    *&#x2F;</span><br><span class="line">   public void add(int index, E element) &#123;</span><br><span class="line">       rangeCheckForAdd(index);</span><br><span class="line"></span><br><span class="line">       ensureCapacityInternal(size + 1);  &#x2F;&#x2F; Increments modCount!!</span><br><span class="line">       System.arraycopy(elementData, index, elementData, index + 1,</span><br><span class="line">                        size - index);</span><br><span class="line">       elementData[index] &#x3D; element;</span><br><span class="line">       size++;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#x2F;**</span><br><span class="line">    * åˆ é™¤ç´¢å¼•æŒ‡å®šå…ƒç´ ï¼Œç´¢å¼•åçš„å…ƒç´ æ•´ä½“å¾€å·¦ç§»åŠ¨ä¸€ä¸ªå…ƒç´ </span><br><span class="line">    * @param index the index of the element to be removed</span><br><span class="line">    * @return the element that was removed from the list</span><br><span class="line">    * @throws IndexOutOfBoundsException &#123;@inheritDoc&#125;</span><br><span class="line">    *&#x2F;</span><br><span class="line">   public E remove(int index) &#123;</span><br><span class="line">       rangeCheck(index);</span><br><span class="line"></span><br><span class="line">       modCount++;</span><br><span class="line">       E oldValue &#x3D; elementData(index);</span><br><span class="line"></span><br><span class="line">       int numMoved &#x3D; size - index - 1;</span><br><span class="line">       if (numMoved &gt; 0)</span><br><span class="line">           System.arraycopy(elementData, index+1, elementData, index,</span><br><span class="line">                            numMoved);</span><br><span class="line">       elementData[--size] &#x3D; null; &#x2F;&#x2F; clear to let GC do its work</span><br><span class="line"></span><br><span class="line">       return oldValue;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#x2F;**</span><br><span class="line">    * åˆ é™¤æŒ‡å®šå…ƒç´ ï¼Œè¢«åˆ é™¤å…ƒç´ åçš„æ•´ä½“å¾€å·¦ç§»åŠ¨ä¸€ä¸ªå…ƒç´ </span><br><span class="line">    *</span><br><span class="line">    * @param o element to be removed from this list, if present</span><br><span class="line">    * @return &lt;tt&gt;true&lt;&#x2F;tt&gt; if this list contained the specified element</span><br><span class="line">    *&#x2F;</span><br><span class="line">   public boolean remove(Object o) &#123;</span><br><span class="line">       if (o &#x3D;&#x3D; null) &#123;</span><br><span class="line">           for (int index &#x3D; 0; index &lt; size; index++)</span><br><span class="line">               if (elementData[index] &#x3D;&#x3D; null) &#123;</span><br><span class="line">                   fastRemove(index);</span><br><span class="line">                   return true;</span><br><span class="line">               &#125;</span><br><span class="line">       &#125; else &#123;</span><br><span class="line">           for (int index &#x3D; 0; index &lt; size; index++)</span><br><span class="line">               if (o.equals(elementData[index])) &#123;</span><br><span class="line">                   fastRemove(index);</span><br><span class="line">                   return true;</span><br><span class="line">               &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       return false;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#x2F;*</span><br><span class="line">    * Private remove method that skips bounds checking and does not</span><br><span class="line">    * return the value removed.</span><br><span class="line">    *&#x2F;</span><br><span class="line">   private void fastRemove(int index) &#123;</span><br><span class="line">       modCount++;</span><br><span class="line">       int numMoved &#x3D; size - index - 1;</span><br><span class="line">       if (numMoved &gt; 0)</span><br><span class="line">           System.arraycopy(elementData, index+1, elementData, index,</span><br><span class="line">                            numMoved);</span><br><span class="line">       elementData[--size] &#x3D; null; &#x2F;&#x2F; clear to let GC do its work</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#x2F;**</span><br><span class="line">    * æ¸…é™¤åˆ—è¡¨å…¨éƒ¨å…ƒç´ </span><br><span class="line">    *&#x2F;</span><br><span class="line">   public void clear() &#123;</span><br><span class="line">       modCount++;</span><br><span class="line"></span><br><span class="line">       &#x2F;&#x2F; clear to let GC do its work</span><br><span class="line">       for (int i &#x3D; 0; i &lt; size; i++)</span><br><span class="line">           elementData[i] &#x3D; null;</span><br><span class="line"></span><br><span class="line">       size &#x3D; 0;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#x2F;**</span><br><span class="line">    * ä»å°¾éƒ¨å¼€å§‹å°†æŒ‡å®šé›†åˆæ’å…¥è¿›åˆ—è¡¨</span><br><span class="line">    *</span><br><span class="line">    * @param c collection containing elements to be added to this list</span><br><span class="line">    * @return &lt;tt&gt;true&lt;&#x2F;tt&gt; if this list changed as a result of the call</span><br><span class="line">    * @throws NullPointerException if the specified collection is null</span><br><span class="line">    *&#x2F;</span><br><span class="line">   public boolean addAll(Collection&lt;? extends E&gt; c) &#123;</span><br><span class="line">       Object[] a &#x3D; c.toArray();</span><br><span class="line">       int numNew &#x3D; a.length;</span><br><span class="line">       ensureCapacityInternal(size + numNew);  &#x2F;&#x2F; Increments modCount</span><br><span class="line">       System.arraycopy(a, 0, elementData, size, numNew);</span><br><span class="line">       size +&#x3D; numNew;</span><br><span class="line">       return numNew !&#x3D; 0;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   &#x2F;**</span><br><span class="line">    * ä»æŒ‡å®šç´¢å¼•å¼€å§‹å°†æŒ‡å®šé›†åˆæ’å…¥è¿›åˆ—è¡¨</span><br><span class="line">    * @param index index at which to insert the first element from the</span><br><span class="line">    *              specified collection</span><br><span class="line">    * @param c collection containing elements to be added to this list</span><br><span class="line">    * @return &lt;tt&gt;true&lt;&#x2F;tt&gt; if this list changed as a result of the call</span><br><span class="line">    * @throws IndexOutOfBoundsException &#123;@inheritDoc&#125;</span><br><span class="line">    * @throws NullPointerException if the specified collection is null</span><br><span class="line">    *&#x2F;</span><br><span class="line">   public boolean addAll(int index, Collection&lt;? extends E&gt; c) &#123;</span><br><span class="line">       rangeCheckForAdd(index);</span><br><span class="line"></span><br><span class="line">       Object[] a &#x3D; c.toArray();</span><br><span class="line">       int numNew &#x3D; a.length;</span><br><span class="line">       ensureCapacityInternal(size + numNew);  &#x2F;&#x2F; Increments modCount</span><br><span class="line"></span><br><span class="line">       int numMoved &#x3D; size - index;</span><br><span class="line">       if (numMoved &gt; 0)</span><br><span class="line">           System.arraycopy(elementData, index, elementData, index + numNew,</span><br><span class="line">                            numMoved);</span><br><span class="line"></span><br><span class="line">       System.arraycopy(a, 0, elementData, index, numNew);</span><br><span class="line">       size +&#x3D; numNew;</span><br><span class="line">       return numNew !&#x3D; 0;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">ã€‚ã€‚ã€‚</span><br></pre></td></tr></table></figure>

<h3 id="System-arraycopy-å’ŒArrays-copyOf"><a href="#System-arraycopy-å’ŒArrays-copyOf" class="headerlink" title="System.arraycopy()å’ŒArrays.copyOf"></a>System.arraycopy()å’ŒArrays.copyOf</h3><blockquote>
<p>åœ¨ArrayListç±»ä¸­addæ“ä½œå’Œremoveçš„æ—¶å€™éƒ½ç”¨åˆ°äº†System.arraycopyï¼ˆï¼‰æ–¹æ³•æ¥æ§åˆ¶æ•°ç»„å…ƒç´ çš„ç§»åŠ¨</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public static void arraycopy(Object src,int srcPos,Object dest,int destPos,int length)</span><br></pre></td></tr></table></figure>



<blockquote>
<p> src:æºæ•°ç»„ï¼›<br>  srcPos:æºæ•°ç»„è¦å¤åˆ¶çš„èµ·å§‹ä½ç½®ï¼›<br>  dest:ç›®çš„æ•°ç»„ï¼›<br>  destPos:ç›®çš„æ•°ç»„æ”¾ç½®çš„èµ·å§‹ä½ç½®ï¼›<br>  length:å¤åˆ¶çš„é•¿åº¦ã€‚<br>  æ³¨æ„ï¼šsrc and destéƒ½å¿…é¡»æ˜¯åŒç±»å‹æˆ–è€…å¯ä»¥è¿›è¡Œè½¬æ¢ç±»å‹çš„æ•°ç»„ï¼</p>
</blockquote>
<blockquote>
<p>åœ¨toArrayæ–¹æ³•ä¸­é€šè¿‡Arrays.copyOf()æ–¹æ³•åœ¨è½¬æ¢æˆæ•°ç»„</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public static &lt;T&gt; T[] copyOf(T[] original, int newLength)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>original:è¦å¤åˆ¶çš„æ•°ç»„<br> newLength:å¤åˆ¶çš„é•¿åº¦</p>
</blockquote>
<h4 id="ä¸¤è€…åŒºåˆ«"><a href="#ä¸¤è€…åŒºåˆ«" class="headerlink" title="ä¸¤è€…åŒºåˆ«"></a>ä¸¤è€…åŒºåˆ«</h4><blockquote>
<p>1.arraycopy()éœ€è¦ç›®æ ‡æ•°ç»„ï¼Œå°†åŸæ•°ç»„æ‹·è´åˆ°ä½ è‡ªå·±å®šä¹‰çš„æ•°ç»„é‡Œï¼Œè€Œä¸”å¯ä»¥é€‰æ‹©æ‹·è´çš„èµ·ç‚¹å’Œé•¿åº¦ä»¥åŠæ”¾å…¥æ–°æ•°ç»„ä¸­çš„ä½ç½®<br>    2.copyOf()æ˜¯ç³»ç»Ÿè‡ªåŠ¨åœ¨å†…éƒ¨æ–°å»ºä¸€ä¸ªæ•°ç»„ï¼Œå¹¶è¿”å›è¯¥æ•°ç»„ã€‚</p>
</blockquote>
<h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><p><a href="https://github.com/Snailclimb/JavaGuide/blob/master/docs/java/collection/ArrayList.md" target="_blank" rel="noopener">ArrayListæºç åˆ†æ</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/18/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E6%AC%A1%E5%8D%9A%E5%AE%A2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ±¤å§†çŒ«çš„åšå®¢">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/18/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E6%AC%A1%E5%8D%9A%E5%AE%A2/" class="post-title-link" itemprop="url">æˆ‘çš„ç¬¬ä¸€æ¬¡åšå®¢</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-04-18 14:04:00 / Modified: 19:28:13" itemprop="dateCreated datePublished" datetime="2020-04-18T14:04:00+08:00">2020-04-18</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>å¼€å§‹äº2020å¹´4æœˆ18æ—¥</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/18/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ±¤å§†çŒ«çš„åšå®¢">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/18/hello-world/" class="post-title-link" itemprop="url">Hello World</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-04-18 11:33:01" itemprop="dateCreated datePublished" datetime="2020-04-18T11:33:01+08:00">2020-04-18</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">18</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
